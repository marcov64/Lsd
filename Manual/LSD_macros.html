<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<title>LSD Macro Language</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 2 5 9 0 0 0 0 0 0;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:2 4 5 3 5 2 3 3 2 2;}
@font-face
	{font-family:Latha;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Raavi;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Shruti;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Tunga;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:3 8 6 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:MingLiU-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:TeamViewer12;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Marlett;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;}
@font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:Constantia;
	panose-1:2 3 6 2 5 3 6 3 3 3;}
@font-face
	{font-family:Corbel;
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:Ebrima;
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Franklin Gothic Medium";
	panose-1:2 11 6 3 2 1 2 2 2 4;}
@font-face
	{font-family:Gabriola;
	panose-1:4 4 6 5 5 16 2 2 13 2;}
@font-face
	{font-family:Gadugi;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Georgia;
	panose-1:2 4 5 2 5 4 5 2 3 3;}
@font-face
	{font-family:Impact;
	panose-1:2 11 8 6 3 9 2 5 2 4;}
@font-face
	{font-family:"Javanese Text";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Leelawadee UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Leelawadee UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"Lucida Sans Unicode";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Malgun Gothic";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"\@Malgun Gothic";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"Malgun Gothic Semilight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Malgun Gothic Semilight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Himalaya";
	panose-1:1 1 1 0 1 1 1 1 1 1;}
@font-face
	{font-family:"Microsoft JhengHei";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei UI";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei UI";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft JhengHei UI Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@Microsoft JhengHei UI Light";
	panose-1:2 11 3 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Microsoft New Tai Lue";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft PhagsPa";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Sans Serif";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Microsoft Tai Le";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft YaHei";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@Microsoft YaHei";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Microsoft YaHei UI";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"\@Microsoft YaHei UI";
	panose-1:2 11 5 3 2 2 4 2 2 4;}
@font-face
	{font-family:"Microsoft YaHei Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft YaHei Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft YaHei UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft YaHei UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft Yi Baiti";
	panose-1:3 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MingLiU-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:PMingLiU-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@PMingLiU-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:MingLiU_HKSCS-ExtB;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MingLiU_HKSCS-ExtB";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Mongolian Baiti";
	panose-1:3 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:"MS UI Gothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"\@MS UI Gothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"MS PGothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"\@MS PGothic";
	panose-1:2 11 6 0 7 2 5 8 2 4;}
@font-face
	{font-family:"MV Boli";
	panose-1:2 0 5 0 3 2 0 9 0 0;}
@font-face
	{font-family:"Myanmar Text";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Nirmala UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Nirmala UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:"Segoe MDL2 Assets";
	panose-1:5 10 1 2 1 1 1 1 1 1;}
@font-face
	{font-family:"Segoe Print";
	panose-1:2 0 6 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Segoe Script";
	panose-1:2 11 5 4 2 0 0 0 0 3;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Black";
	panose-1:2 11 10 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Historic";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Semibold";
	panose-1:2 11 7 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Semilight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Symbol";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:NSimSun;
	panose-1:2 1 6 9 3 1 1 1 1 1;}
@font-face
	{font-family:"\@NSimSun";
	panose-1:2 1 6 9 3 1 1 1 1 1;}
@font-face
	{font-family:SimSun-ExtB;
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"\@SimSun-ExtB";
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"Sitka Small";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Text";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Subheading";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Heading";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Display";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Sitka Banner";
	panose-1:2 0 5 5 0 0 0 2 0 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Webdings;
	panose-1:5 3 1 2 1 5 9 6 7 3;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Semibold";
	panose-1:2 11 7 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Semibold";
	panose-1:2 11 7 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Light";
	panose-1:2 11 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic Medium";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic Medium";
	panose-1:2 11 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Yu Gothic UI Semilight";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@Yu Gothic UI Semilight";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"HoloLens MDL2 Assets";
	panose-1:5 10 1 2 1 1 1 1 1 1;}
@font-face
	{font-family:"SWGamekeys MT";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"MT Extra";
	panose-1:5 5 1 2 1 2 5 2 2 2;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:"Wingdings 2";
	panose-1:5 2 1 2 1 5 7 7 7 7;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
@font-face
	{font-family:"Book Antiqua";
	panose-1:2 4 6 2 5 3 5 3 3 4;}
@font-face
	{font-family:"Century Gothic";
	panose-1:2 11 5 2 2 2 2 2 2 4;}
@font-face
	{font-family:Haettenschweiler;
	panose-1:2 11 7 6 4 9 2 6 2 4;}
@font-face
	{font-family:"MS Outlook";
	panose-1:5 1 1 0 1 0 0 0 0 0;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:"Monotype Corsiva";
	panose-1:3 1 1 1 1 2 1 1 1 1;}
@font-face
	{font-family:Algerian;
	panose-1:4 2 7 5 4 10 2 6 7 2;}
@font-face
	{font-family:"Baskerville Old Face";
	panose-1:2 2 6 2 8 5 5 2 3 3;}
@font-face
	{font-family:"Bauhaus 93";
	panose-1:4 3 9 5 2 11 2 2 12 2;}
@font-face
	{font-family:"Bell MT";
	panose-1:2 2 5 3 6 3 5 2 3 3;}
@font-face
	{font-family:"Berlin Sans FB";
	panose-1:2 14 6 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Bernard MT Condensed";
	panose-1:2 5 8 6 6 9 5 2 4 4;}
@font-face
	{font-family:"Bodoni MT Poster Compressed";
	panose-1:2 7 7 6 8 6 1 5 2 4;}
@font-face
	{font-family:"Britannic Bold";
	panose-1:2 11 9 3 6 7 3 2 2 4;}
@font-face
	{font-family:Broadway;
	panose-1:4 4 9 5 8 11 2 2 5 2;}
@font-face
	{font-family:"Brush Script MT";
	panose-1:3 6 8 2 4 4 6 7 3 4;}
@font-face
	{font-family:"Californian FB";
	panose-1:2 7 4 3 6 8 11 3 2 4;}
@font-face
	{font-family:Centaur;
	panose-1:2 3 5 4 5 2 5 2 3 4;}
@font-face
	{font-family:Chiller;
	panose-1:4 2 4 4 3 16 7 2 6 2;}
@font-face
	{font-family:"Colonna MT";
	panose-1:4 2 8 5 6 2 2 3 2 3;}
@font-face
	{font-family:"Cooper Black";
	panose-1:2 8 9 4 4 3 11 2 4 4;}
@font-face
	{font-family:"Footlight MT Light";
	panose-1:2 4 6 2 6 3 10 2 3 4;}
@font-face
	{font-family:"Freestyle Script";
	panose-1:3 8 4 2 3 2 5 11 4 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
@font-face
	{font-family:Harrington;
	panose-1:4 4 5 5 5 10 2 2 7 2;}
@font-face
	{font-family:"High Tower Text";
	panose-1:2 4 5 2 5 5 6 3 3 3;}
@font-face
	{font-family:Jokerman;
	panose-1:4 9 6 5 6 13 6 2 7 2;}
@font-face
	{font-family:"Juice ITC";
	panose-1:4 4 4 3 4 10 2 2 2 2;}
@font-face
	{font-family:"Kristen ITC";
	panose-1:3 5 5 2 4 2 2 3 2 2;}
@font-face
	{font-family:"Kunstler Script";
	panose-1:3 3 4 2 2 6 7 13 13 6;}
@font-face
	{font-family:"Lucida Bright";
	panose-1:2 4 6 2 5 5 5 2 3 4;}
@font-face
	{font-family:"Lucida Calligraphy";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"Lucida Fax";
	panose-1:2 6 6 2 5 5 5 2 2 4;}
@font-face
	{font-family:"Lucida Handwriting";
	panose-1:3 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:Magneto;
	panose-1:4 3 8 5 5 8 2 2 13 2;}
@font-face
	{font-family:"Matura MT Script Capitals";
	panose-1:3 2 8 2 6 6 2 7 2 2;}
@font-face
	{font-family:Mistral;
	panose-1:3 9 7 2 3 4 7 2 4 3;}
@font-face
	{font-family:"Modern No\. 20";
	panose-1:2 7 7 4 7 5 5 2 3 3;}
@font-face
	{font-family:"Niagara Engraved";
	panose-1:4 2 5 2 7 7 3 3 2 2;}
@font-face
	{font-family:"Niagara Solid";
	panose-1:4 2 5 2 7 7 2 2 2 2;}
@font-face
	{font-family:"Old English Text MT";
	panose-1:3 4 9 2 4 5 8 3 8 6;}
@font-face
	{font-family:Onyx;
	panose-1:4 5 6 2 8 7 2 2 2 3;}
@font-face
	{font-family:Parchment;
	panose-1:3 4 6 2 4 7 8 4 8 4;}
@font-face
	{font-family:Playbill;
	panose-1:4 5 6 3 10 6 2 2 2 2;}
@font-face
	{font-family:"Poor Richard";
	panose-1:2 8 5 2 5 5 5 2 7 2;}
@font-face
	{font-family:Ravie;
	panose-1:4 4 8 5 5 8 9 2 6 2;}
@font-face
	{font-family:"Informal Roman";
	panose-1:3 6 4 2 3 4 6 11 2 4;}
@font-face
	{font-family:"Showcard Gothic";
	panose-1:4 2 9 4 2 1 2 2 6 4;}
@font-face
	{font-family:"Snap ITC";
	panose-1:4 4 10 7 6 10 2 2 2 2;}
@font-face
	{font-family:Stencil;
	panose-1:4 4 9 5 13 8 2 2 4 4;}
@font-face
	{font-family:"Tempus Sans ITC";
	panose-1:4 2 4 4 3 13 7 2 2 2;}
@font-face
	{font-family:"Viner Hand ITC";
	panose-1:3 7 5 2 3 5 2 2 2 3;}
@font-face
	{font-family:Vivaldi;
	panose-1:3 2 6 2 5 5 6 9 8 4;}
@font-face
	{font-family:"Vladimir Script";
	panose-1:3 5 4 2 4 4 7 7 3 5;}
@font-face
	{font-family:"Wide Latin";
	panose-1:2 10 10 7 5 5 5 2 4 4;}
@font-face
	{font-family:"Tw Cen MT";
	panose-1:2 11 6 2 2 1 4 2 6 3;}
@font-face
	{font-family:"Tw Cen MT Condensed";
	panose-1:2 11 6 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Script MT Bold";
	panose-1:3 4 6 2 4 6 7 8 9 4;}
@font-face
	{font-family:"Rockwell Extra Bold";
	panose-1:2 6 9 3 4 5 5 2 4 3;}
@font-face
	{font-family:"Rockwell Condensed";
	panose-1:2 6 6 3 5 4 5 2 1 4;}
@font-face
	{font-family:Rockwell;
	panose-1:2 6 6 3 2 2 5 2 4 3;}
@font-face
	{font-family:"Rage Italic";
	panose-1:3 7 5 2 4 5 7 7 3 4;}
@font-face
	{font-family:Pristina;
	panose-1:3 6 4 2 4 4 6 8 2 4;}
@font-face
	{font-family:"Perpetua Titling MT";
	panose-1:2 2 5 2 6 5 5 2 8 4;}
@font-face
	{font-family:Perpetua;
	panose-1:2 2 5 2 6 4 1 2 3 3;}
@font-face
	{font-family:Papyrus;
	panose-1:3 7 5 2 6 5 2 3 2 5;}
@font-face
	{font-family:"Palace Script MT";
	panose-1:3 3 3 2 2 6 7 12 11 5;}
@font-face
	{font-family:"OCR A Extended";
	panose-1:2 1 5 9 2 1 2 1 3 3;}
@font-face
	{font-family:"Maiandra GD";
	panose-1:2 14 5 2 3 3 8 2 2 4;}
@font-face
	{font-family:"Lucida Sans Typewriter";
	panose-1:2 11 5 9 3 5 4 3 2 4;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
@font-face
	{font-family:"Imprint MT Shadow";
	panose-1:4 2 6 5 6 3 3 3 2 2;}
@font-face
	{font-family:"Goudy Stout";
	panose-1:2 2 9 4 7 3 11 2 4 1;}
@font-face
	{font-family:"Goudy Old Style";
	panose-1:2 2 5 2 5 3 5 2 3 3;}
@font-face
	{font-family:"Gloucester MT Extra Condensed";
	panose-1:2 3 8 8 2 6 1 1 1 1;}
@font-face
	{font-family:"Gill Sans Ultra Bold Condensed";
	panose-1:2 11 10 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans Ultra Bold";
	panose-1:2 11 10 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Condensed";
	panose-1:2 11 5 6 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT";
	panose-1:2 11 5 2 2 1 4 2 2 3;}
@font-face
	{font-family:"Gill Sans MT Ext Condensed Bold";
	panose-1:2 11 9 2 2 1 4 2 2 3;}
@font-face
	{font-family:Gigi;
	panose-1:4 4 5 4 6 16 7 2 13 2;}
@font-face
	{font-family:"French Script MT";
	panose-1:3 2 4 2 4 6 7 4 6 5;}
@font-face
	{font-family:"Franklin Gothic Medium Cond";
	panose-1:2 11 6 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Heavy";
	panose-1:2 11 9 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi Cond";
	panose-1:2 11 7 6 3 4 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Demi";
	panose-1:2 11 7 3 2 1 2 2 2 4;}
@font-face
	{font-family:"Franklin Gothic Book";
	panose-1:2 11 5 3 2 1 2 2 2 4;}
@font-face
	{font-family:Forte;
	panose-1:3 6 9 2 4 5 2 7 2 3;}
@font-face
	{font-family:"Felix Titling";
	panose-1:4 6 5 5 6 2 2 2 10 4;}
@font-face
	{font-family:"Eras Medium ITC";
	panose-1:2 11 6 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Light ITC";
	panose-1:2 11 4 2 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Demi ITC";
	panose-1:2 11 8 5 3 5 4 2 8 4;}
@font-face
	{font-family:"Eras Bold ITC";
	panose-1:2 11 9 7 3 5 4 2 2 4;}
@font-face
	{font-family:"Engravers MT";
	panose-1:2 9 7 7 8 5 5 2 3 4;}
@font-face
	{font-family:Elephant;
	panose-1:2 2 9 4 9 5 5 2 3 3;}
@font-face
	{font-family:"Edwardian Script ITC";
	panose-1:3 3 3 2 4 7 7 13 8 4;}
@font-face
	{font-family:"Curlz MT";
	panose-1:4 4 4 4 5 7 2 2 2 2;}
@font-face
	{font-family:"Copperplate Gothic Light";
	panose-1:2 14 5 7 2 2 6 2 4 4;}
@font-face
	{font-family:"Copperplate Gothic Bold";
	panose-1:2 14 7 5 2 2 6 2 4 4;}
@font-face
	{font-family:"Century Schoolbook";
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:Castellar;
	panose-1:2 10 4 2 6 4 6 1 3 1;}
@font-face
	{font-family:"Calisto MT";
	panose-1:2 4 6 3 5 5 5 3 3 4;}
@font-face
	{font-family:"Bradley Hand ITC";
	panose-1:3 7 4 2 5 3 2 3 2 3;}
@font-face
	{font-family:"Bookman Old Style";
	panose-1:2 5 6 4 5 5 5 2 2 4;}
@font-face
	{font-family:"Bodoni MT Condensed";
	panose-1:2 7 6 6 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT Black";
	panose-1:2 7 10 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Bodoni MT";
	panose-1:2 7 6 3 8 6 6 2 2 3;}
@font-face
	{font-family:"Blackadder ITC";
	panose-1:4 2 5 5 5 16 7 2 13 2;}
@font-face
	{font-family:"Arial Rounded MT Bold";
	panose-1:2 15 7 4 3 5 4 3 2 4;}
@font-face
	{font-family:"Agency FB";
	panose-1:2 11 5 3 2 2 2 2 2 4;}
@font-face
	{font-family:"Bookshelf Symbol 7";
	panose-1:5 1 1 1 1 1 1 1 1 1;}
@font-face
	{font-family:"MS Reference Sans Serif";
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"MS Reference Specialty";
	panose-1:5 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Berlin Sans FB Demi";
	panose-1:2 14 8 2 2 5 2 2 3 6;}
@font-face
	{font-family:"Tw Cen MT Condensed Extra Bold";
	panose-1:2 11 8 3 2 2 2 2 2 4;}
@font-face
	{font-family:"AR BERKLEY";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR BLANCA";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR BONNIE";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR CARTER";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR CENA";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR CHRISTY";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR DARLING";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR DECODE";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR DELANEY";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR DESTINE";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR ESSENCE";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR HERMANN";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"AR JULIAN";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Buxton Sketch";
	panose-1:3 8 5 0 0 5 0 0 0 4;}
@font-face
	{font-family:"Segoe Marker";
	panose-1:3 8 6 2 4 3 2 2 2 4;}
@font-face
	{font-family:"SketchFlow Print";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Arial Narrow";
	panose-1:2 11 6 6 2 2 2 3 2 4;}
@font-face
	{font-family:DengXian;
	panose-1:3 0 5 9 0 0 0 0 0 0;}
@font-face
	{font-family:"\@DengXian";
	panose-1:3 0 5 9 0 0 0 0 0 0;}
@font-face
	{font-family:"Microsoft MHei";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft MHei";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Microsoft NeoGothic";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@Microsoft NeoGothic";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe WP Black";
	panose-1:2 11 10 2 4 5 4 2 2 3;}
@font-face
	{font-family:"Segoe WP";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe WP Semibold";
	panose-1:2 11 7 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe WP Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe WP SemiLight";
	panose-1:2 11 4 2 4 2 4 2 2 3;}
@font-face
	{font-family:LuzSans-Book;
	panose-1:2 0 6 3 4 0 0 2 0 3;}
@font-face
	{font-family:minorEastAsia;}
@font-face
	{font-family:minorBidi;}
@font-face
	{font-family:"MS PMincho";
	panose-1:2 2 6 0 4 2 5 8 3 4;}
@font-face
	{font-family:Kalinga;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift Light";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiLight";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Bahnschrift;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Bahnschrift SemiBold";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
h1
	{mso-style-link:"Título 1 Char";
	margin-right:0cm;
	margin-left:0cm;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	color:#254061;
	font-weight:bold;}
h2
	{mso-style-link:"Título 2 Char";
	margin-top:24.0pt;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
h3
	{mso-style-link:"Título 3 Char";
	margin-top:36.0pt;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Título Char";
	margin-right:0cm;
	margin-left:0cm;
	text-align:center;
	font-size:18.0pt;
	font-family:"Arial","sans-serif";
	color:#254061;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
tt
	{font-family:"Courier New";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-right:0cm;
	margin-left:36.0pt;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
span.Ttulo1Char
	{mso-style-name:"Título 1 Char";
	mso-style-link:"Título 1";
	font-family:"Arial","sans-serif";
	color:#254061;
	font-weight:bold;}
span.Ttulo2Char
	{mso-style-name:"Título 2 Char";
	mso-style-link:"Título 2";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.Ttulo3Char
	{mso-style-name:"Título 3 Char";
	mso-style-link:"Título 3";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.TtuloChar
	{mso-style-name:"Título Char";
	mso-style-link:Título;
	font-family:"Arial","sans-serif";
	color:#254061;
	font-weight:bold;}
p.msolistparagraphcxspfirst, li.msolistparagraphcxspfirst, div.msolistparagraphcxspfirst
	{mso-style-name:msolistparagraphcxspfirst;
	margin-right:0cm;
	margin-left:36.0pt;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
p.msolistparagraphcxspmiddle, li.msolistparagraphcxspmiddle, div.msolistparagraphcxspmiddle
	{mso-style-name:msolistparagraphcxspmiddle;
	margin-right:0cm;
	margin-left:36.0pt;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
p.msolistparagraphcxsplast, li.msolistparagraphcxsplast, div.msolistparagraphcxsplast
	{mso-style-name:msolistparagraphcxsplast;
	margin-right:0cm;
	margin-left:36.0pt;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
p.msochpdefault, li.msochpdefault, div.msochpdefault
	{mso-style-name:msochpdefault;
	margin-right:0cm;
	margin-left:0cm;
	font-size:10.0pt;
	font-family:"Arial","sans-serif";}
span.Cdigo
	{mso-style-name:Código;
	font-family:"Courier New";
	color:gray;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{font-size:10.0pt;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 3.0cm 70.85pt 3.0cm;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 -->
</style>

<link rel=icon href="image/lsd.png">
<meta name=Author content="LSD - Laboratory for Simulation Development">

<iframe name=navbar src=navbar.html scrolling=no style='position:fixed;
 border-bottom-style:none;border-left-style:none;border-right-style:none;
 border-top-style:none;height:55px;left:0in;overflow:hidden;right:0in;
 top:0in;width:100%'>
</iframe>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=WordSection1>

<p class=MsoTitle>&nbsp;</p>

<p class=MsoTitle>LSD Macro Language</p>

<p>Search the Macros of interest below, considering that most of them are part
of a <a href="#_Postfixes_and_function">family</a> with postfixes “<span
class=Cdigo>L</span>”, “<span class=Cdigo>S</span>”, “<span class=Cdigo>LS</span>”
etc. For example, the Macro <span class=Cdigo><a
href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V(…)</a></span> is part
of a family of Macros together with <span class=Cdigo><a
href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">VL(…)</a></span>, <span
class=Cdigo><a href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">VS(…)</a></span>
and <span class=Cdigo><a href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">VLS(…)</a></span>.</p>

<div align=center>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse'>
 <tr>
  <td width="9%" valign=top style='width:9.0%;border:none;border-bottom:solid #BFBFBF 1.0pt;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'></td>
  <td width="15%" style='width:15.68%;border:none;border-bottom:solid #BFBFBF 1.0pt;
  background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><b>Return values</b></p>
  </td>
  <td width="21%" style='width:21.24%;border:none;border-bottom:solid #BFBFBF 1.0pt;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><a name="ex_obj"><b>Return
  Objects/Links</b></a></p>
  </td>
  <td width="15%" style='width:15.7%;border:none;border-bottom:solid #BFBFBF 1.0pt;
  background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><b>Modify values</b></p>
  </td>
  <td width="17%" style='width:17.16%;border:none;border-bottom:solid #BFBFBF 1.0pt;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><b>Operate on
  structures</b></p>
  </td>
  <td width="21%" style='width:21.22%;border:none;border-bottom:solid #BFBFBF 1.0pt;
  background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal align=center style='text-align:center'><b>Other elements</b></p>
  </td>
 </tr>
 <tr>
  <td width="9%" rowspan=10 valign=top style='width:9.0%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><b><a href="#_Postfixes_and_function">LSD Objects</a></b></p>
  </td>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SEARCH(_&quot;obj_Lab&quot;_),">SEARCH</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_WRITE(&quot;Lab&quot;,_new_value),_WRITEL(&quot;La">WRITE</a></span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_CYCLE(_cur,_&quot;obj_Lab&quot;">CYCLE/CYCLE_SAFE</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#MODELBEGIN">MODELBEGIN/END</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SUM(_&quot;Lab&quot;_),">SUM</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SEARCH_CND(_&quot;Lab&quot;,_value">SEARCH_CND</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_INCR(_&quot;Lab&quot;,_value">INCR</a></span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_ADDOBJ(_&quot;obj_Lab&quot;_),">ADDOBJ</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_EQUATION">EQUATION</a>/<a href="#_FUNCTION">FUNCTION</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_MAX(_&quot;Lab&quot;_),">MAX</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RNDDRAW(_&quot;obj_Lab&quot;,_&quot;Lab&quot;">RNDDRAW</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_MULT(_&quot;Lab&quot;,_value">MULT</a></span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_ADDOBJ_EX(_&quot;obj_Lab&quot;,_obj_ex">ADDOBJ_EX</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a href="#RESULT">RESULT</a>/<a
  href="#END_EQUATION">END_EQUATION</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_WHTAVE(_&quot;Lab1&quot;,_&quot;Lab2&quot;">WHTAVE</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RNDDRAW_FAIR(_&quot;obj_Lab&quot;_),">RNDDRAW_FAIR</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RECALC(_&quot;Lab&quot;_)">RECALC</a></span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DELETE(_obj_)">DELETE</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a href="#_ABORT">ABORT</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_STAT(_&quot;Lab&quot;_),">STAT</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RNDDRAW_TOT(_&quot;obj_Lab&quot;,_&quot;Lab&quot;,">RNDDRAW_TOT</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_PARAMETER_1">PARAMETER</a></span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SORT(_&quot;obj_Lab&quot;,_&quot;Lab1&quot;,">SORT/SORT2</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DEBUG_DEBUG_AT(_time">DEBUG/DEBUG_AT</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_INTERACT(_&quot;Comment&quot;,_value">INTERACT</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_TSEARCH(_&quot;obj_Lab&quot;,_pos">TSEARCH/INIT_TSEARCH</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'></td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_PARAMETER">FAST/FAST_FULL/OBSERVE</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><a href="#_Mathematical_and_statistical">Math functions</a></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'></td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SLEEP(_msecs_)">SLEEP</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_NO_NAN_USE_NAN">V_CHEAT</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'></td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_LOG(_&quot;Comment&quot;_)">LOG/PLOG</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_CURRENT_1">CURRENT</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RND_GENERATOR(_type_)">RND_GENERATOR</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_T_LAST_T">T/LAST_T</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RND_SEED_RND_SETSEED(_seed">RND_SEED/RND_SETSEED</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="9%" rowspan=11 valign=top style='width:9.0%;border-top:solid #F2F2F2 1.0pt;
  border-left:none;border-bottom:solid #F2F2F2 1.0pt;border-right:none;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><b><a href="#_LSD_networks">LSD Networks</a></b></p>
  </td>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_V_NODEID(_),_V_NODEIDS(">V_NODEID</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;border:none;border-top:solid #F2F2F2 1.0pt;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SEARCH_NODE(_&quot;node_Lab&quot;,_value">SEARCH_NODE</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_WRITE_NODEID(_id_),">WRITE_NODEID</a></span></p>
  </td>
  <td width="17%" valign=top style='width:17.16%;border:none;border-top:solid #F2F2F2 1.0pt;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_INIT_NET(_&quot;node_Lab&quot;,_&quot;gen&quot;,">INIT_NET</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_NO_NAN_USE_NAN_1">NO_NAN/USE_NAN</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_V_NODEID(_),_V_NODEIDS(">V_NODENAME</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SEARCH_NODE(_&quot;node_Lab&quot;,_value">SEARCH_LINK</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_WRITE_NODEID(_id_),">WRITE_NODENAME</a></span></p>
  </td>
  <td width="17%" valign=top style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;">LOAD_NET</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DEFAULT_RESULT(_value_)">DEFAULT_RESULT</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_V_LINK(_link_)">V_LINK</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RNDDRAW_NODE(_&quot;node_Lab&quot;_),">RNDDRAW_NODE</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_WRITE_LINK(_link,_weigth">WRITE_LINK</a></span></p>
  </td>
  <td width="17%" valign=top style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;">SAVE_NET</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_STAT_NET(_node_obj_),">STAT_NET</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_RNDDRAW_NODE(_&quot;node_Lab&quot;_),">RNDDRAW_LINK</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'></td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SNAP_NET()">SNAP_NET</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a href="#_CURRENT">v[0],
  v[1], v[2],…</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_STAT_NET(_node_obj_),">STAT_NODE</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DRAWPROB_NODE(_prob_),">DRAWPROB_NODE</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_ADDNODE(_id,_&quot;name&quot;">ADDNODE</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_Parent_Object:_p">p-&gt;</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DRAWPROB_NODE(_prob_),">DRAWPROB_LINK</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_ADDLINK(_node_obj_),">ADDLINK</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_Caller_Object:_c">c-&gt;</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_LINKTO(_link_)">LINKTO/LINKFROM</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DELETE_NET(_&quot;node_Lab&quot;_),">DELETE_NET</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_Temporary_Object's_pointers:">cur, cur1, cur2,…</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DELETE_NET(_&quot;node_Lab&quot;_),">DELETE_NODE</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_Object’s_relatives:_up,">up, next, root</a></span></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DELETE_NET(_&quot;node_Lab&quot;_),">DELETE_LINK</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SHUFFLE_NET(_&quot;node_Lab&quot;_),">SHUFFLE_NET</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><a href="#_Model_specific_objects_1">Model specific
  objects/data</a></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;border:none;border-bottom:solid #F2F2F2 1.0pt;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;border:none;border-bottom:solid #F2F2F2 1.0pt;
  padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_CYCLE_LINK(_curl_),">CYCLE_LINK</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><a href="#_LSD_networks">LSD networks</a></p>
  </td>
 </tr>
 <tr>
  <td width="9%" rowspan=2 valign=top style='width:9.0%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><b><a href="#_INIT_LAT(_&quot;row_Lab&quot;,_&quot;col_Lab&quot;">LSD
  Lattices</a></b></p>
  </td>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_WRITE_LAT(line,_column,_value)">WRITE_LAT</a></span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_INIT_LAT(_&quot;row_Lab&quot;,_&quot;col_Lab&quot;">INIT_LAT</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><a href="#_Advanced_LSD_coding">Advanced coding </a></p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_SAVE_LAT(_&quot;filename&quot;_)">SAVE_LAT</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><a href="#_Basic_C++_coding">Basic C++</a></p>
  </td>
 </tr>
 <tr>
  <td width="9%" rowspan=4 valign=top style='width:9.0%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><b><a href="#_ADDEXT(_class_),">Extended Object data</a></b></p>
  </td>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_V_EXT(_class,_var_1">V_EXT</a></span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_P_EXT(_class_),_1">P_EXT</a></span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_WRITE_EXT(_class,_ext,">WRITE_EXT</a></span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_ADDEXT(_class_),">ADDEXT</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_DELETE_EXT(_class_),_1">DELETE_EXT</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_EXEC_EXT(_class,_c_obj,_1">EXEC_EXT</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width="15%" style='width:15.68%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="21%" style='width:21.24%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.7%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.16%;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal><span style='font-family:"Courier New"'><a
  href="#_CYCLE_EXT(_iter,_class,_1">CYCLE_EXT</a></span></p>
  </td>
  <td width="21%" style='width:21.22%;background:#F2F2F2;padding:2.85pt 2.85pt 2.85pt 2.85pt'>
  <p class=MsoNormal>&nbsp;</p>
  </td>
 </tr>
</table>

</div>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_LSD_equation_file"></a>LSD Equation File structure</h1>

<p>A simulation run consists in a sequence of time steps, during each of which
every Variable in the model is “updated”. That is, a piece of code is executed,
normally returning a numerical value that is associated to the Variable for
that time step. The LSD Equations are these pieces of codes. </p>

<p>The parts of the code for the Equations are separated in blocks (see below).
Usually, they are located all in a single file, called the Equation file, which
is compiled together with the rest of the LSD source code. Normally, this is
done using LMM and therefore the user should find the Equation file
automatically pre-filled with the minimum required code.</p>

<p>The only required lines in the Equation file are the following: </p>

<p><br>
<span class=Cdigo>#include &quot;../src/fun_head_fast.h&quot; </span></p>

<p><span class=Cdigo>MODELBEGIN </span></p>

<p><span class=Cdigo>MODELEND </span></p>

<p><span class=Cdigo>void close_sim( ) <br>
{ <br>
} </span></p>

<p><a name=MODELBEGIN></a>The user should place the <a href="#_EQUATION">Equations</a>
only after the keyword <span class=Cdigo>MODELBEGIN</span> and before <span
class=Cdigo>MODELEND</span>.</p>

<p>Every type of Variable has its own Equation, although a model normally
contains many copies of a Variable. In this case, the same piece of code is
executed as many times as many copies of the Variable exist, but, of course,
the values used in each execution may change. In fact, Variables (and
Parameters) are located “within” Objects, so each copy (or instance) of an
Object contains a different copy (or instance) of the Variable, under the same
names. The Equations' code always refers to an Object. For example, suppose an
Object named <i>Firm</i> contains a Variable called <i>Q</i> that depends on
another Variable, named <i>K</i>. If there are many copies of the Object <i>Firm</i>,
each instance of the Equation for <i>Q</i>, that require <i>K</i> for its
computation, will refer to its own copy of <i>K</i> (a particular value), that
is, the copy of <i>K</i> contained in the same Object as the copy of <i>Q</i>
currently under computation. </p>

<p>The Equations' code for all the Variables is usually located in a single
file. The order in which the Equations appear in the file is irrelevant, since
LSD automatically evaluates which sequence of Variable computations needs to be
executed. Therefore, each Equation must be thought of as a difference equation,
written independently from one another and computed at the generic time <i>t</i>:
</p>

<p class=MsoNormal style='margin-left:36.0pt'><i><span>X<sub>t</sub></span></i>
<span> =</span><span style='font-size:13.5pt'> <i>f </i></span><span>
( <i>Y<sub>t-lag</sub></i>, <i>Z<sub>t-lag</sub></i>, ... )</span></p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p>Equation code may also use LSD Parameters. Parameters are numeric values
defined by LSD to be used in Equations in the same way as variables. Parameters
are not defined by specific Equations, instead, they are set by the LSD
configuration in use when the simulation starts and often remain constant along
the entire run. However, Parameters can be still changed by other Variables’
Equations “on-the-flight”, see Macros like <span class=Cdigo><a
href="#_WRITE(_&quot;Lab&quot;,_new_value">WRITE(…)</a></span> or <span
class=Cdigo><a href="#_INCR(_&quot;Lab&quot;,_value">INCR(…)</a></span>, being
the modeler responsible for the control of the update timing and value.</p>

<p>LSD Equation files are composed by standard C++ code plus LSD-specific
keywords (Macro, Object, Variable and Parameter names). All LSD Macros are
named in upper case. The labels of LSD Objects, Variables and Parameters must
be represented within straight quotation marks (<span class=Cdigo>&quot;&quot;</span>),
as in <span class=Cdigo>&quot;Lab&quot;</span>, without any trailing or leading
blank characters (like spaces). Labels not inside quotation marks are
interpreted as regular C++ identifiers and not as LSD names, more likely
leading to compilation errors. In C++ terms, LSD labels for Variables and
Parameters must be null-terminated (likely constant) character arrays. In the
LSD Macros presented below, all the included quotation marks are compulsory for
proper simulation operation. Also, all identifiers not inside quotation marks
are intended to be C++ identifiers, most usually regular C++ variable names
(like <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>, <span
class=Cdigo><a href="#_Caller_Object:_c">c</a></span>, <span class=Cdigo><a
href="#_Model_specific_objects">cur</a></span> etc.) used in LSD to create the
Equations code. There is no connection of LSD Variables (and Parameters) with
C++ variables, even if they share exactly the same name (which may be confusing
but is perfectly legal).</p>

<p>LSD also accepts no Macro, standard C++ code to be used. In this case the
actual LSD functions must be expressed in pure C++, please refer to the <a
href="LSD_functions.html">manual for the original LSD language</a> for details.
This is not the recommended approach to most users, in particular less
experienced programmers.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_EQUATION"></a><a name="_EQUATION(_&quot;Lab&quot;_)"></a><a
name=EQUATION></a>EQUATION( &quot;<i>Lab</i>&quot; )</h1>

<p>The code for a Variable named <i>Lab</i> can be expressed in two forms (see <span
class=Cdigo><a href="#_FUNCTION">FUNCTION(…)</a></span> below for the second
form). The most commons uses the keyword <span class=Cdigo>EQUATION(…)</span>,
as in the example below: </p>

<p><span class=Cdigo>EQUATION( &quot;Lab&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/* <br>
Normally here should be place a comment, specifying what the equation does <br>
*/ </span></span></p>

<p><span class=Cdigo>RESULT( 3 ) </span><span class=Cdigo><span
style='color:#00B050'>// This Equation assigns always the value 3 to any copy
of variable Lab</span> </span></p>

<p>The first line indicates that the code refer to the Variable labelled <i>Lab</i>.
After the initial line normally it is added a comment (highlighted in green).
The following lines can contain any LSD (or C++) code. The last line must be
indicated with the keyword <a name=RESULT><span class=Cdigo>RESULT(…)</span></a>,
where in between the parenthesis it is contained the value that the Variable is
to be assigned. <br>
The <span class=Cdigo>EQUATION( &quot;Lab&quot; )</span> line indicates that
each copy of the Variable must be computed once and only once at every time
step. Therefore, for example, if another Variables uses its value in other
Equations, than it provides always the same value. That is, the numerical value
of an instance of <i>Lab</i> at time <i>t</i> is always identical. </p>

<p>Notice that, because of this particular updating scheme, the concept of
Equation in LSD is very different from the operation of a regular subroutine or
procedure in most computer languages. Subroutines and procedures are usually
reevaluated every time they are invoked, irrespective to the relative timing
between calls. A similar updating scheme, despite not usually recommended for
LSD models, can also be performed (see <span class=Cdigo><a
href="#_FUNCTION(_&quot;Lab&quot;_)">FUNCTION(…)</a></span> below).</p>

<p>LSD offers numerous Macros to be used when creating Equations. The most
frequently used is <span class=Cdigo><a href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V(…)</a></span>
that simply computes or retrieves the value of another Variable or Parameter in
the model. When the computations required for an Equation (or a Function, see
below) are slightly less than trivial, it is common to use temporary variables
to store intermediate results. For example, consider the following Equation: </p>

<p><span class=Cdigo>EQUATION( &quot;PROF&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/***************************
<br>
The equation computes the profit rate: <br>
PROF(t) = P(t) * A(t-1) - C - RIM – RIN * Inn <br>
profits per unit of capital are equal current price times lagged productivity <br>
minus the cost for research (innovative firms spend for both type <br>
of research) and fixed costs. <br>
***************************/</span> <br>
RESULT( V(&quot;Price&quot;) * VL(&quot;A&quot;, 1) - V(&quot;C&quot;) -
V(&quot;RIM&quot;) - V(&quot;RIN&quot;) * V(&quot;Inn&quot;) ) </span></p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_CURRENT"></a><a name="_v[n]"></a><a
name="_Temporary_numeric_storage:"></a><a name=v></a>Temporary numeric storage:
<span class=Cdigo><span style='font-size:12.0pt;color:#404040'>v[n]</span></span>
</h1>

<p>The standard way to express an Equation is to collect a set of data from the
model (Variables and Parameters) and then to elaborate on them to provide the
desired result value for the current Variable. Since the LSD Macros to collect
the required data may be quite long, it is considered good practice to store
the intermediary values to be used in numerical temporary storage. It may be
preferred to store the intermediate values used in the final computation in the
LSD provided temporary storage called <span class=Cdigo>v[0]</span>, <span
class=Cdigo>v[1]</span>, <span class=Cdigo>v[2]</span> etc.</p>

<p>Up to 1,000 temporary storage positions are available (from <span
class=Cdigo>v[0]</span> to <span class=Cdigo>v[999]</span>) to each Equation.
The values of <span class=Cdigo>v[…]</span> are reset for each Equation, and
therefore cannot be used to transfer information from one Equation to another
or between different time steps of the same Equation. Technically, this storage
is configured as a volatile C++ double precision array.</p>

<h2>Example</h2>

<p>The example above can be rewritten using the temporary storage:</p>

<p><span class=Cdigo>EQUATION( &quot;PROF&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/***************************
<br>
The equation computes the profit rate: <br>
PROF(t) = P(t) * A(t-1) - C - RIM – RIN * Inn <br>
profits per unit of capital are equal current price times lagged productivity <br>
minus the cost for research (innovative firms spend for both type <br>
of research) and fixed costs. <br>
***************************/</span> <br>
v[0] = V( &quot;Price&quot; ); <br>
v[1] = VL( &quot;A&quot;,1 ); <br>
v[2] = V( &quot;C&quot; ); <br>
v[3] = V( &quot;RIM&quot; ); <br>
v[4] = V( &quot;RIN&quot; ); <br>
v[5] = V( &quot;Inn&quot; ); </span></p>

<p><span class=Cdigo>RESULT( v[0] * v[1] - v[2] - v[3] - v[4] * v[5] ) </span></p>

<p>This practice has several advantages. Firstly, the code generally is more
readable when using shorter symbols for values. Secondly, the intermediate
values can be observed using the <a href="debug.html">LSD Debugger</a>, so
tracing errors get easier. Thirdly, if a value is used many times in the same
Equation, it is faster and less prone to errors to store the value in a <span
class=Cdigo><a href="#_CURRENT">v[…]</a></span> temporary variable and just
re-use it instead of re-calling the Macro providing it. </p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_FUNCTION"></a><a name="_FUNCTION(_&quot;Lab&quot;_)"></a><a
name=FUNCTION></a>FUNCTION( &quot;<i>Lab</i>&quot; )</h1>

<p>The Macro <span class=Cdigo>FUNCTION(…)</span> starts the definition of a
LSD Function named <i>Lab</i>. Functions are different than regular Equations
for Variables, as they execute the associated code every time their value is
explicitly requested, and only in that case. A FUNCTION code block also must
end with the <span class=Cdigo>RESULT(…)</span> keyword informing the value
produced by the Function.</p>

<p>Variables associated to an <span class=Cdigo><a href="#_EQUATION">EQUATION(…)</a></span>
are computed once and only once at each time step. That is, the value of a
variable can be used by another variable in the model, by many other variables,
or by no variable at all. In any case, LSD ensures that the code of the
Equation is computed exactly once at each time step. If, in the same time step,
the value is requested more than once, then the system does not recompute the
Variable but reuses the same value already computed before during the same time
step.</p>

<p>In some, rare, cases, a certain computation should be redone every time it
is requested, even in the same time step, but should not be computed if no
Variable is requesting it. This is the usual behavior of subroutines and
procedures in other computer languages. For this purpose, LSD also offers the
possibility to define Functions that behave this particular way.</p>

<h2>Example</h2>

<p>This is, for example, the case of a Variable computing an identification
value that must differ for each Object. For example, suppose that in the model
a <i>Firm</i> Object can generate, with some probability, a spin-off, that is,
a new <i>Firm</i> Object instance. Moreover, each <i>Firm</i> Object must have
a unique <i>ID</i> value attributed as one of its Parameters. It is possible
that during the same time step many new <i>Firm</i> Objects are created, or
none. To generate an identification number unique to each firm it is possible
to use the following code to create a Function:</p>

<p><span class=Cdigo>FUNCTION( &quot;IdGenerator&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/* <br>
Generate new values any time this variable is requested<br>
*/<br>
</span><br>
RESULT( CURRENT + 1 ) </span></p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p>It should be noted that the keyword <span class=Cdigo>FUNCTION(…)</span> in
the Equation file is optional. Any piece of code defined inside an <span
class=Cdigo><a href="#_EQUATION">EQUATION(…)</a></span> can be redefined, at
the LSD simulation configuration, to behave like a Function (and vice versa),
irrespective if the associated code was defined in an <span class=Cdigo>EQUATION</span>
or <span class=Cdigo>FUNCTION</span> statement. However, the FUNCTION keyword
may help to keep your code clearer to the reader.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_Object_pointers_available"></a>Object pointers available to
Equations' code</h1>

<p>Most LSD Macros are operated “within” an Object, as in the examples above
(and almost always), defined by the pointer <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>. The reason why (most of) LSD Macros are
operated in Objects is that the same Equation code is, in general, reused by
many copies (or instances) of the Variable it refers to. For example, consider
a model with an Object <i>Firm</i> containing Variables <i>Profit</i>, <i>Price</i>
and <i>Quantity</i>, and the Equation for <i>Profit</i> is (neglecting the
temporal index): </p>

<p class=MsoNormal style='margin-left:36.0pt'><i>Profit</i> = <i>Price</i> × <i>Quantity</i></p>

<p class=MsoNormal style='margin:0cm;margin-bottom:.0001pt'>In general, the
model may have many copies of Object <i>Firm</i>, and each copy of Variable <i>Profit</i>
must use the values of <i>Quantity</i> and <i>Price</i> referring to the same
instance of Object <i>Firm</i>. LSD takes care automatically of identifying the
correct values in the code of the Equation, using the Object the LSD Variable
is attached to as the reference. In particular:</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><a href="#_Parent_Object:_p">p</a></span> refers to
the Object containing the Variable whose Equation is being computed</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><a href="#_Caller_Object:_c">c</a></span> refers to
the Object that requested the computation of the Variable</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><a href="#_Temporary_Object's_pointers:">cur<span
style='font-family:"Arial","sans-serif"'>, </span>cur1<span style='font-family:
"Arial","sans-serif"'>, </span>cur2</a></span> etc. are temporary pointers,
which can store the current addresses of Objects obtained from other LSD Macros</p>

<h2><a name="_Parent_Object:_p"></a>Parent Object: <span class=Cdigo>p</span> </h2>

<p class=MsoNormal>This symbol refers to the Object containing the Variable
whose Equation is being executed (“<span class=Cdigo>p</span>” for “parent” of
the Variable). Since most of the operations in an Equation concerns the values
in the same Object, this Object is the most frequently used in the Equations,
and in most of cases the LSD Macros allow to use it by default without
specifying it. </p>

<h2><a name="_Caller_Object:_c"></a><span class=Ttulo2Char>Caller Object: </span><span
class=Cdigo>c</span><span class=Ttulo2Char> </span></h2>

<p>In most cases, Equations computing some Variable's values are executed
because other Equations needed those values. The pointer <span class=Cdigo>c</span>
in an Equation points to the Object that caused that Equation to be computed (“<span
class=Cdigo>c</span>” reads for “caller” for the computation of the Variable),
if any. If an Equation is computed only because LSD requested so, because no
other Equation triggered the computation, then <span class=Cdigo>c</span> is
defined as <span class=Cdigo>NULL</span>, a conventional value.</p>

<p>Typically the object <span class=Cdigo>c</span> is used in a <span
class=Cdigo><a href="#_FUNCTION">FUNCTION(…)</a></span> to acquire more
contextual information, since these are not computed unless another Equation
explicitly requests their calculation. </p>

<h2><a name="_Temporary_Object's_pointers:"></a>Temporary Object's pointers: <span
class=Cdigo>cur</span>, <span class=Cdigo>cur1</span>, <span class=Cdigo>cur2</span>,
<span class=Cdigo>…</span> </h2>

<p>Besides temporary variables for intermediate numerical values, LSD also
provides a predefined group of temporary pointers to Objects: <span
class=Cdigo>cur</span> and from <span class=Cdigo>cur1</span> to<span
class=Cdigo><span style='font-family:"Arial","sans-serif"'> </span>cur9</span>.
These elements are generic pointers to Objects, used to temporary store the
addresses of required Objects (like <span class=Cdigo><a href="#_CURRENT">v[…]</a></span>
is used to stored temporary numerical values). </p>

<p>Typically, the user calls LSD Macros returning Objects and assigns the
results to <span class=Cdigo>cur</span>, <span class=Cdigo>cur1</span>, <span
class=Cdigo>…</span> and uses the pointer to use another Macro requiring it as
an operand. See the <a href="#ex_obj">examples</a> of LSD Macros returning
Objects.</p>

<p>For example, when creating a new Object, one wants to initialize its
Parameters. This is done by storing the new Object “address” in a temporary
pointer and applying the LSD required Macros on it. For example, the following
lines within an Equation create a new Object of type <i>Firm</i> and set to 0
its Variable <i>K</i> (see details in the description of the LSD Macros listed
below). </p>

<p><span class=Cdigo>... <br>
cur = ADDOBJ( &quot;Firm&quot; ); <br>
WRITELS( cur, &quot;K&quot;, 0, t ); <br>
... </span></p>

<h2><a name="_Object’s_relatives:_up,"></a>Object’s relatives: <span
class=Cdigo>up</span><tt><span style='font-size:13.5pt;font-family:"Arial","sans-serif";
font-weight:normal'>, </span></tt><span class=Cdigo>next</span><tt><span
style='font-size:13.5pt;font-family:"Arial","sans-serif";font-weight:normal'>, </span></tt><span
class=Cdigo>root</span> </h2>

<p>The information in this paragraph is not necessarily relevant for writing
LSD models. But it explains the technical implementation of a LSD model that
can be used to optimize a model’s code. <br>
Every Object (for example, <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>,
<span class=Cdigo><a href="#_Caller_Object:_c">c</a></span> etc.) is related to
its relatives in the model hierarchy tree. Every Object can therefore connect
to its direct relatives using the links to them. The linking pointers can then
be constructed, using C++ syntax, using the following components: </p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The top&nbsp;Object in the model hierarchy is <span class=Cdigo>root</span>
which has no <span class=Cdigo>up</span> or <span class=Cdigo>next</span>
relatives</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo>p-&gt;up</span> is the Object containing the Object
(or the parent to) in which the current Variable is being calculated;
relatedly, <span class=Cdigo>c-&gt;up</span> and <span class=Cdigo>cur-&gt;up</span>
points to the parent of the caller Object and of the object pointed by <span
class=Cdigo>cur</span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo>p-&gt;up-&gt;up</span>, <span class=Cdigo>c-&gt;up-&gt;up</span>
and <span class=Cdigo>cur-&gt;up-&gt;up</span> points to the grandparents of
the Objects <span class=Cdigo>p</span>, <span class=Cdigo>c</span> and <span
class=Cdigo>cur</span>, and so on</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo>p-&gt;next</span> is the Object instance immediately
following the current Object (or a brother to) in the list of descendants from
its parent <span class=Cdigo>p-&gt;up</span>; all the Objects in the
brotherhood chain share the same parent Object and the last Object in the chain
has <span class=Cdigo>p-&gt;next</span> equal to <span class=Cdigo>NULL</span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Similarly, <span class=Cdigo>c-&gt;next</span> and <span class=Cdigo>cur-&gt;next</span>
are brothers of <span class=Cdigo>c</span> and <span class=Cdigo>cur</span>,
respectively</p>

<p class=MsoNormal>Any upper level or “younger” brother Objects in the model
hierarchy tree can be reached by arbitrary combinations of <span class=Cdigo>up</span>
and <span class=Cdigo>next</span> departing from a given Object, however, the
exploration of lower level or “older” brother Objects require the use of the <span
class=Cdigo><a href="#_SEARCH(_&quot;obj_Lab&quot;_),">SEARCH(…)</a></span>
Macro family, likely in combination. </p>

<p class=MsoNormal>The best way to remember the object's components is to keep
in mind a geometrical representation of Objects: </p>

<p class=MsoNormal><span class=Cdigo>&nbsp;&nbsp; root<br>
&nbsp;&nbsp;&nbsp; /\<br>
&nbsp;&nbsp;&nbsp; ||<br>
&nbsp;&nbsp;&nbsp;&nbsp; .<br>
&nbsp;&nbsp;&nbsp;&nbsp; .<br>
&nbsp;&nbsp;&nbsp;&nbsp; .<br>
&nbsp;&nbsp;&nbsp; /\<br>
&nbsp;&nbsp;&nbsp; ||<br>
&nbsp;&nbsp;&nbsp; up <br>
&nbsp;&nbsp;&nbsp; /\ <br>
&nbsp;&nbsp;&nbsp; || <br>
&nbsp;+------+ <br>
&nbsp;|object| =&gt; next =&gt; ... =&gt; NULL<br>
&nbsp;+------+ </span></p>

<p class=MsoNormal>The linking pointers above are proper Objects and therefore
can be used as LSD Macro operands. For example, consider a model where you have
100 Objects of type <i>Firm </i>descending from a single Object named <i>Market</i>.
In turn, each <i>Firm</i> Object has about 1,000 Objects of type <i>Worker</i>
descending from it, as in the representation below:</p>

<p class=MsoNormal><span class=Cdigo>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; root <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /\ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; || <br>
&nbsp;&nbsp; +--------+ <br>
&nbsp;&nbsp; | Market | (contains variable Price)<br>
&nbsp;&nbsp; +--------+ <br>
&nbsp;&nbsp;&nbsp;&nbsp; /\&nbsp; /\<br>
&nbsp;&nbsp;&nbsp;&nbsp; ||&nbsp; ||<br>
&nbsp;&nbsp;&nbsp;&nbsp; ||&nbsp; ++========++<br>
&nbsp;&nbsp;&nbsp;&nbsp;
||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ||<br>
&nbsp;+--------+&nbsp;&nbsp; &nbsp;+--------+&nbsp;&nbsp;
&nbsp;+--------+&nbsp;&nbsp;
&nbsp;+--------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+----------+<br>
&nbsp;| Firm 1 | =&gt; | Firm 2 | =&gt; | Firm 3 | =&gt; | Firm 4 | =&gt; . . .
=&gt; | Firm 100 |<br>
&nbsp;+--------+&nbsp;&nbsp;&nbsp; +--------+&nbsp;&nbsp;&nbsp;
+--------+&nbsp;&nbsp;&nbsp;
+--------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+----------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;
/\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /\&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\<br>
&nbsp;&nbsp;&nbsp;&nbsp;
||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; . .
.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; . .
.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
. . .<br>
&nbsp;&nbsp;&nbsp;&nbsp;
||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ||<br>
&nbsp;&nbsp;&nbsp;&nbsp; ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+----------+&nbsp;&nbsp;&nbsp;
+----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+-------------+&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp; ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Worker 1 |
=&gt; | Worker 1 | =&gt; . . . =&gt; | Worker 1000 |<br>
&nbsp;&nbsp;&nbsp;&nbsp; ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;+----------+&nbsp;&nbsp;&nbsp;
+----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+-------------+ <br>
&nbsp;+----------+&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;
+----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+-------------+&nbsp; <br>
&nbsp;| Worker 1 | =&gt; | Worker 1 | =&gt; | Worker 2 | =&gt; . . . =&gt; |
Worker 1000 |<br>
&nbsp;+----------+&nbsp;&nbsp;&nbsp; +----------+&nbsp;&nbsp;&nbsp;
+----------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
+-------------+</span></p>

<p class=MsoNormal>If a Variable in <i>Firm</i> uses a common Variable from <i>Market</i>,
say, <i>Price</i>, you can write the line of code:</p>

<p class=MsoNormal><span class=Cdigo>v[0] = V( &quot;Price&quot; ); </span></p>

<p class=MsoNormal>However, it will take significant time to work out, because
the system will have to visit and discard all the Objects <i>Worker</i> for
each of the Objects <i>Firm </i>before moving “up” to look for the Variable <i>Price</i>
in Object <i>Market</i>. In fact, the Macro <span class=Cdigo><a
href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V(…)</a></span> will
initially search down, into <i>Worker</i>, for a Variable or Parameter <i>Price</i>.
Only if it does not find it downward in the tree, it will look then upwards,
trying to find <i>Price</i> in the parent <i>Market</i>. This means that LSD
has to skip 100,000 Objects, in total, before computing the 100 instances of
the Firm’s Variable. Instead, using the code line: </p>

<p class=MsoNormal><span class=Cdigo>v[0] = VS( p-&gt;up, &quot;Price&quot; ); </span></p>

<p class=MsoNormal>directly provides the desired value, since the first Object
searched is <span class=Cdigo>p-&gt;up</span>, which is Market. Note that, for
using pointer constructs, the modeler must be sure that final pointed Objects
exist. If, in the example above, the Equation is placed in Object <i>Market</i>
then <span class=Cdigo>p-&gt;up</span> now points to <span class=Cdigo>root</span>
and there is no Variable <i>Price</i> there, so the simulation will issue an
error and stop. </p>

<h2><a name="_Model_specific_objects"></a><a name="_Temporary_Link's_pointers:"></a>Temporary
Link's pointers: <span class=Cdigo>curl</span>, <span class=Cdigo>curl1</span>,
<span class=Cdigo>curl2</span>, <span class=Cdigo>…</span> </h2>

<p>Similarly to pointers to Objects, these elements are generic pointers to Links
connecting Nodes (represented by LSD Objects) within a network, if any. They
are used to temporary store the addresses of required network Links for LSD
Macros requiring or returning Links as operands or as results. See the <a
href="#ex_obj">examples</a> of LSD Macros returning Links. </p>

<h2><a name="_Model_specific_objects_1"></a>Model specific objects and other
C++ data structures</h2>

<p>The Object pointers discussed above (<span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>, <span class=Cdigo><a
href="#_Caller_Object:_c">c</a></span>, <span class=Cdigo><a href="#cur1">cur</a></span>
etc.) are all “local” Objects, in the sense that they represent a different
content depending on the Equation in whose they are used. That is, they refer
to Objects that, depending on the Variable whose Equation is computed, change
their content when the Variable computed changes: <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span> refers to the Object instance whose
Variables are under computation; <span class=Cdigo><a href="#_Caller_Object:_c">c</a></span>
to the Object that caused the Variable to be computed; <span class=Cdigo><a
href="#cur1">cur</a></span> and the others are assigned within the Equations
code. </p>

<p>However, the modeler can create and use global Object pointers (and other
pure C++ data structures), that is, pointers (or data structures) that have
persistent content throughout a simulation run. This is mainly done for
optimization purposes, when a very large model (many Objects and hierarchical
layers) contain Variables that refer frequently to one specific Object copy (or
particular data structure). The use of global Object pointers (or pure C++ data
structures) should be avoided by unexperienced modelers, because they
frequently create errors difficult to be catch. </p>

<p>To use a global Object, declare the global Objects or C++ data structures as
a single C++ macro named <span class=Cdigo>EQ_USER_VARS</span> (several objects
items can be separated by “<span class=Cdigo>;</span>”) outside the scope of
the Equation area, that is, on the beginning of the Equation file and just
before the keyword <span class=Cdigo><a href="#MODELBEGIN">MODELBEGIN</a></span><tt><span
style='font-size:10.0pt;font-family:"Arial","sans-serif"'>. </span></tt>The
declaration line must be something like: </p>

<p><span class=Cdigo>#include &quot;../src/fun_head_fast.h&quot; </span></p>

<p><span class=Cdigo>#define EQ_USER_VARS object *market;</span></p>

<p><span class=Cdigo>MODELBEGIN </span></p>

<p><span class=Cdigo>EQUATION( &quot;Init&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/* <br>
Technical initialization function. It is computed only once and then it is <br>
transformed in a parameter and never computed again.<br>
Sets the global pointer 'market' pointing to the Object Market, so <br>
to speed up the access to this object <br>
*/ </span></span></p>

<p><span class=Cdigo>market = SEARCH( &quot;Market&quot; );</span><span
class=Cdigo><span style='color:#00B050'> //assign the C++ object pointer
&quot;market&quot; to point to the LSD Object Market</span> <br>
PARAM; </span><span class=Cdigo><span style='color:#00B050'>//optional;
transform &quot;Init&quot; in a parameter so to not compute again this equation</span>
</span></p>

<p><span class=Cdigo>RESULT( 1 ) </span></p>

<p>where the name of the Object (&quot;market&quot; in the example) must not be
one of the existing Objects (<span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>,
<span class=Cdigo><a href="#_Caller_Object:_c">c</a></span>, <span class=Cdigo><a
href="#cur1">cur</a></span> etc). The Object must be assigned with one of the
LSD Equation Macros returning Objects within an Equation. For example, there
may be a Variable called <i>Init</i> making such assignment. The Variable <i>Init</i>
must be computed for sure before <i>market</i> is used in any other Equation. This
can be ensured placing <i>Init</i> in the Object <span class=Cdigo><a
href="#_Object’s_relatives:_up,">root</a></span>, since the simulation step
starts always the computation from the Variables contained in the topmost level
(i.e., <span class=Cdigo><a href="#up">root</a></span>) of the model structure
tree. With the setting described above, the modeler can use<i> market</i> as
any other Object, knowing that it refers always to the LSD Object <i>Market</i>.
For example, the Equation for a Variable placed anywhere in the model may use
the line: </p>

<p><span class=Cdigo>v[0] = VS( market, &quot;Price&quot; ); </span></p>

<p>and be sure that the value of Variable <i>Price</i> is returned efficiently.
Note that the usual line </p>

<p><span class=Cdigo>v[0] = V( &quot;Price&quot; ); </span></p>

<p>would also work, but likely less efficiently, as it would cost computation
time in case the Variable whose Equation containing the line for <i>Price</i>
is placed “far” away from <i>Market</i>. </p>

<p>Modelers using global Objects or other C++ data structures should be careful
when assigning configurations with many copies. If, for example, the model
configuration uses many instances of the Object <i>Market</i>, any use of the
global object <tt><i><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>market</span></i></tt><tt><span
style='font-size:10.0pt;font-family:"Arial","sans-serif"'> </span></tt>would
refer only to the very first copy of the Object <i>Market</i>, certainly
undermining the model operation. </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_Postfixes_and_function"></a><a name="_Postfixes_and_Macro"></a>Postfixes
and Macro families</h1>

<p>Most of the LSD Macros, like <span class=Cdigo><a
href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V(…)</a></span><span
class=Cdigo><span style='font-family:"Arial","sans-serif"'> </span></span>used
in the examples above, come as a family where the name of the Macro can be
expressed with no postfix, or with “<span class=Cdigo>L</span>”, “<span
class=Cdigo>S</span>”, “<span class=Cdigo>LS</span>” etc. as postfix. The
postfix “<span class=Cdigo>L</span>” stands for Lag, indicating that the
operation refers to past values. The postfix “<span class=Cdigo>S</span>”
indicates a Specific object copy/instance. Consider that any LSD operation is
performed, at each time step, in a given Equation. Therefore, the time “now”
and the Object containing the Variable whose Equation is being executed are
used by default when no postfix is supplied. Otherwise, for operations that
must refer to past time steps, or to Objects different from the one containing
the Variable whose Equation is under execution, the modeler must use one of the
postfixed versions of the LSD Macro and provide the necessary details: </p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>If no postfix is specified the Macro is supposed to refer to the Object
containing the Variable under computation and to the current time step.</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The postfix “<span class=Cdigo>L</span>” means that the Macro apply to
the same Object containing the Variable under computation, but must be
specified the lag to which the operation refers to.</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The postfix “<span class=Cdigo>S</span>” means that the Macro contains
the specification to the Object to which it must be applied, and it refers to
the current time step.</p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:Symbol'>·</span><span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The postfix “<span class=Cdigo>LS</span>” means that the Macro is
applied to the lag and to the Object specified.</p>

<p class=MsoNormal style='margin:0cm;margin-bottom:.0001pt'>The Equation's code
can always use two Objects that are available to the modeler. One is <span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span>, which indicates the
Object containing the Variable under computation. The other is <span
class=Cdigo><a href="#_Caller_Object:_c">c</a></span> which refers to the
Object containing the Variable that triggered the computation of the Variable
under computation.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),"></a><a
name="_V(_&quot;Lab&quot;_),"></a>V( &quot;<i>Lab</i>&quot; ), VS( <i>obj</i>,<span
class=Ttulo2Char> </span>&quot;<i>Lab</i>&quot; )<br>
VL( &quot;<i>Lab</i>&quot;, <i>lag</i> ), VLS( <i>obj</i>,<span
class=Ttulo2Char> </span>&quot;<i>Lab</i>&quot;,<span class=Ttulo2Char> </span><i>lag</i>
) </h1>

<p>These are the most used LSD Macros. They return the value of the Variable or
Parameter with label <tt><i><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>Lab</span></i></tt>.
The forms <span class=Cdigo>VL(…)</span> and <span class=Cdigo>VLS(…)</span>
permit to specify a <i>lag</i>, so that the values returned concern the value
of <tt><i><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>Lab</span></i></tt>
with <tt><i><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>lag</span></i></tt>
lags. The forms <span class=Cdigo>VS(…)</span> and <span class=Cdigo>VLS(…)</span>
specify in which specific Object the Parameter or Variable must be searched
for. In <span class=Cdigo>V(…)</span> and <span class=Cdigo>VL(…)</span>, where
no Object is specified, the search starts from <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span><tt><span style='font-size:10.0pt;
font-family:"Arial","sans-serif"'> </span></tt>(see <a
href="#_Object_pointers_available">available Objects</a>). </p>

<p>In case the model contains many instances of Variables with the same label <i>Lab</i>
(that is, many instances of Object containing this Variable), the Macro returns
the value of the instance &quot;closer&quot; to the Object where the search
start from. By closer, it is meant the first instance found by searching the
model using the following strategy: </p>

<p>1) Search in the Object’s Variables and Parameters (the one specified in the
Macro call)<br>
2) Search in the Object descending Objects (progressively to the lowest level
in the hierarchical tree)<br>
3) Search in the Object parent Object (gradually up to the <span class=Cdigo><a
href="#up">root</a></span> level)</p>

<p>In each Object explored, the same strategy is applied recursively, so that
every Object in the model is visited, if necessary. So, for example, if there
is only one instance of Variable <i>Lab</i> in the model, this can be found in
any upstream or downstream Object, wherever the search is started. </p>

<h2>Example </h2>

<p>Consider the Equation:&nbsp;&nbsp; <i>Q<sub>t</sub></i> = <i>K<sub>t-1</sub></i>
× <i>A<sub>t</sub></i> </p>

<p>The code may be as follows: </p>

<p><span class=Cdigo>EQUATION( &quot;Q&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/* <br>
Compute the quantity Q as the product of lagged capital K and current
productivity A <br>
*/ </span></span></p>

<p><span class=Cdigo>RESULT( VL( &quot;K&quot;, 1 ) * V( &quot;A&quot; ) ) </span></p>

<p>or, equivalently: </p>

<p><span class=Cdigo>EQUATION( &quot;Q&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/* <br>
Compute the quantity Q as the product of lagged capital K and current
productivity A <br>
*/ </span></span></p>

<p><span class=Cdigo>v[0] = VL( &quot;K&quot;, 1 ); <br>
v[1] = V( &quot;A&quot; ); </span></p>

<p><span class=Cdigo>RESULT( v[0] * v[1] ) </span></p>

<p>In the second case, the two temporary variables <span class=Cdigo><a
href="#_v[n]">v[0]</a></span> and <span class=Cdigo><a href="#_v[n]">v[1]</a></span>
are used to store the intermediate results, which can be observed during a
debugging session, so that modeler can trace possible unexpected results. </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_SUM(_&quot;Lab&quot;_),"></a><a name=SUM></a>SUM( &quot;<i>Lab</i>&quot;
), SUMS( <i>obj</i>, &quot;<i>Lab</i>&quot; )<br>
SUML( &quot;<i>Lab</i>&quot;, <i>lag </i>), SUMLS( <i>obj</i>, &quot;<i>Lab</i>&quot;,
<i>lag </i>) </h1>

<p>These Macros search, with the same strategy described in <span class=Cdigo><a
href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V(…)</a></span> (see
also the different forms), an instance of the Variable <i>Lab</i>. Then, they
keep on summing up all the values of Variables named <i>Lab</i> (with the lag <i>lag</i>,
if specified),&nbsp;found in the set of Objects which are brothers to the first
found. Normally, they are used to sum up the values of a given Variable of
descending Objects. </p>

<h2>Example </h2>

<p>If <i>Q_TOT</i> is contained in an Object named <i>Market</i>, from which descend
a set of Objects named <i>Firm</i> containing a Variable with label <i>Q</i>,
its Equation can be coded as:</p>

<p><span class=Cdigo>EQUATION( &quot;Q_TOT&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/* <br>
Compute the sum of all Q's in the market<br>
*/ </span></span></p>

<p><span class=Cdigo>RESULT( SUM( &quot;Q&quot; ) ) <br>
&nbsp; </span></p>

<p>Note that, if your model contains many Objects Market, this Equation will
sum up only the Q's contained in the set of descendants of Market, and not all
the Q's existing in the model. </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_MAX(_&quot;Lab&quot;_),"></a><a name=MAX></a>MAX( &quot;<i>Lab</i>&quot;
), MAXS( <i>obj</i>, &quot;<i>Lab</i>&quot; )<br>
MAXL( &quot;<i>Lab</i>&quot;, <i>lag </i>), MAXLS( <i>obj</i>, &quot;<i>Lab</i>&quot;,
<i>lag </i>) </h1>

<p>Same as <span class=Cdigo><a href="#SUM">SUM(…)</a></span>, but, instead of
the sum, these Macros compute the maximum value of the Variable named <i>Lab</i>
among the descendants of the current Object (<span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>) or <i>obj</i>, using the appropriate
lag. </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_WHTAVE(_&quot;Lab1&quot;,_&quot;Lab2&quot;"></a><a name=WHTAVE></a>WHTAVE(
&quot;<i>Lab1</i>&quot;, &quot;<i>Lab2</i>&quot; ), WHTAVES( <i>obj</i>, &quot;<i>Lab1</i>&quot;,
&quot;<i>Lab2</i>&quot; )<br>
WHTAVEL( &quot;<i>Lab1</i>&quot;, &quot;<i>Lab2</i>&quot;, <i>lag </i>),
WHTAVELS( <i>obj</i>, &quot;<i>Lab1</i>&quot;, &quot;<i>Lab2</i>&quot;, <i>lag </i>)
</h1>

<p>Same as <span class=Cdigo><a href="#SUM">SUM(…)</a></span>, but, instead of
the sum, these Macros compute the weighted average of the Variable named <i>Lab1</i>
among the descendants of the current Object (<span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>) or <i>obj</i>, using the Variable <i>Lab2</i>
as the weight, that is, the sum of the products between the values of <i>Lab1</i>
and <i>Lab2</i>, over the appropriate lag. Both Variables <i>Lab1</i> and <i>Lab2</i>
must be contained in the same Object. </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_STAT(_&quot;Lab&quot;_),"></a><a name=STAT></a><span>STAT(
&quot;<i>Lab</i>&quot; ), STATS( <i>obj</i>, &quot;<i>Lab</i>&quot; ) </span></h1>

<p>These Macros works as the Macro <span class=Cdigo><a href="#SUM">SUM(…)</a></span>,
but, instead of the sum, they compute a set of descriptive statistics of the
Variable named <i>Lab</i> among the descendants of the current Object (<span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span>) or <i>obj</i>. These
Macros do not return a value as the ones above, but store a set of values in
the temporary storage <a href="#_Temporary_numeric_storage:">v[…]</a>. Namely,
it places in <span class=Cdigo>v[…]</span> the following values: </p>

<p><span class=Cdigo>v[0]</span> : number of instances/copies; <br>
<span class=Cdigo>v[1]</span> : average of <i>Lab</i> <br>
<span class=Cdigo>v[2]</span> : variance of <i>Lab</i> <br>
<span class=Cdigo>v[3]</span> : maximum values <br>
<span class=Cdigo>v[4]</span> : minimum values </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><span style='font-family:"Times New Roman","serif"'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</span></div>

<h1><a name="_INTERACT(_&quot;Comment&quot;,_value"></a><a name=INTERACT></a>INTERACT(
&quot;<i>Comment</i>&quot;, <i>value </i>), INTERACTS( <i>obj</i>, &quot;<i>Comment</i>
&quot;, <i>value </i>) </h1>

<p class=MsoNormal>These Macros interrupt the simulation run and open the <a
href="debug.html">LSD Debugger</a> window, presenting the message <i>Comment</i>.
The Object shown in the debugger is the same Object containing the Variable
under computation (which has the <span class=Cdigo>INTERACT(…)</span> call) or
the specified Object <tt><i><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>obj</span></i></tt>.
Contrary to the debugger usual behavior, additionally to the name of the
Variable just computed, the interface presents the <i>value</i> chosen (the
default to be used) in a numeric data entry field. User can input a new value
as any C++ numeric constant or variable, typically one of the <span
class=Cdigo><a href="#_CURRENT">v[…]</a></span> temporary elements. The value
typed in by the user will be returned by the Macro as its result. </p>

<p>This Macro inserted in an Equation allows the run to be modified according
to the choice of an interacting user. </p>

<h2>Example </h2>

<p>For example, an Equation may contain the following code: </p>

<p><span class=Cdigo>v[1] = V( &quot;MinMarketShare&quot; ); </span><span
class=Cdigo><span style='color:#00B050'>//minimum m.s. below which a firm
should be removed </span><br>
CYCLE_SAFE( cur, &quot;Firm&quot; ) <br>
{ </span><span class=Cdigo><span style='color:#00B050'>//Cycle through each
firm, allowing for the removal of the pointer</span> <br>
&nbsp; v[0] = VS( cur, &quot;MarketShare&quot; ); </span><span class=Cdigo><span
style='color:#00B050'>//read the market share</span> <br>
&nbsp; if ( v[0] &lt; v[1] ) <br>
&nbsp;&nbsp;&nbsp; v[5] = INTERACTS( cur, &quot;Remove this firm? (1=yes;
2=no)&quot;, v[4] ); </span></p>

<p><span class=Cdigo>&nbsp; if ( v[5] == 1 ) <br>
&nbsp;&nbsp;{ </span><span class=Cdigo><span style='color:#00B050'>//remove if
the answer was 1</span> <br>
&nbsp;&nbsp;&nbsp; DELETE( cur ); <br>
&nbsp;&nbsp;&nbsp; v[3]++; <br>
&nbsp;&nbsp;} <br>
} </span></p>

<p>The cycle removes all <i>Firm</i>’s having market shares smaller than a
given value and that the user permitted to. </p>

<h2>Warning</h2>

<p>Beware that such a Macro used in a model requires the user to interact with
it. See <span class=Cdigo><a href="#_LOG(_&quot;Comment&quot;_)">LOG(…)</a></span>
and <span class=Cdigo><a href="#_SLEEP(_msecs_)">SLEEP(…)</a></span> for an
alternative to show information to the user without fully stopping the
simulation or requiring effective user interaction.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_SEARCH(_&quot;obj_Lab&quot;_),"></a><a name=SEARCH></a>SEARCH(
&quot;<i>obj_Lab</i>&quot; ), SEARCHS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot; )
</h1>

<p>These Macros explore one single branch of the model searching for the first
instance of the Object named <i>obj_Lab</i>. That is, they search only within
the descendants of <i>obj</i>, if specified in <span class=Cdigo>SEARCHS(…)</span>,
or in <a href="#p"><span class=Cdigo><span style='color:blue'>p</span></span></a>
if <i>obj</i> not specified in <span class=Cdigo>SEARCH(…)</span>, and their
descendants. Therefore, the search is not exhaustive over the entire model,
unless it is started from the <span class=Cdigo><a href="#up">root</a></span>
of the model (as <span class=Cdigo><a href="#_Object’s_relatives:_up,">root</a></span>
is a pointer and not an Object name, you do not enclose it in quotation marks)
or from a ascending Object like <span class=Cdigo><a
href="#_Object’s_relatives:_up,">p-&gt;up</a></span> (parent) or <span
class=Cdigo><a href="#_Object’s_relatives:_up,">p-&gt;up-&gt;up</a></span>
(grandparent). <span class=Cdigo><a href="#_SEARCH_CND(_&quot;Lab&quot;,_value">SEARCH_CND(…)</a></span>
can also be considered for a more exhaustive search of the model (see below).</p>

<p>The Macros return the pointer to the found Object or <span class=Cdigo>NULL</span>
if no Object is found. </p>

<h2>Example </h2>

<p>The result from <span class=Cdigo>SEARCH(…)</span> is usually attributed to
a temporary pointer for later usage, like in the following piece of code where
an Object looks for a grandparent Object named <i>Market</i>, saves its address
to temporary pointer <span class=Cdigo><a href="#_Model_specific_objects">cur</a></span>
and uses it to retrieve the grandparent’s Variable <i>TotalSales</i>:</p>

<p><span class=Cdigo>…<br>
cur = SEARCH( p-&gt;up-&gt;up, &quot;Market&quot; );<br>
v[1] = VS( cur, &quot;TotalSales&quot; );<br>
…</span></p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_SEARCH_CND(_&quot;Lab&quot;,_value"></a><a name="SEARCH_CND"></a>SEARCH_CND(
&quot;<i>Lab</i>&quot;, <i>value </i>), SEARCH_CNDS( <i>obj</i>, &quot;<i>Lab</i>&quot;,
<i>value </i>)<br>
SEARCH_CNDL( &quot;<i>Lab</i>&quot;, <i>value</i>, <i>lag </i>), SEARCH_CNDLS( <i>obj</i>,
&quot;<i>Lab</i>&quot;, <i>value</i>, <i>lag </i>) </h1>

<p>These Macros are used to find an Object in the model that contains the
Variable named <i>Lab</i> with the specific numeric value <i>value</i>. The
search can optionally consider <i>obj</i> as the starting point for the search
(instead of the current Object under calculation, <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>) and the specific lag <i>lag</i> if
different from current time step. </p>

<p>Differently from <span class=Cdigo><a href="#_SEARCH(_&quot;obj_Lab&quot;_),">SEARCH(…)</a></span>,
<span class=Cdigo>SEARCH_CND(…)</span> family uses the same strategy to explore
the model as described in Macro <span class=Cdigo><a
href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V(…)</a></span> above,
which eventually encompasses the entire hierarchical Object tree. However, it
may not stop at the first instance encountered, but continues until the
searched Variable is found in an Object instance which has the desired Variable
set to <i>value</i>. When the first Object that satisfies the condition is
found, it is returned to the calling Equation, and can be used with other LSD
Macros like <a href="#V"><span class=Cdigo><span style='color:blue'>VS(…)</span></span></a>.
</p>

<p>The Macros are used to find a particular Object, which is neither the parent
<a href="#p"><span class=Cdigo><span style='color:blue'>p</span></span></a> nor
the caller <a href="#c"><span class=Cdigo><span style='color:blue'>c</span></span></a>.
</p>

<h2>Example </h2>

<p>Suppose you want to extract randomly a Firm from a group of 100 instances,
and that these contain a Parameter <i>IdFirm</i> set from 1 to 100, you can use
the following code to set a pointer to it in <span class=Cdigo><a
href="#_Model_specific_objects">cur</a></span>: </p>

<p><span class=Cdigo>v[0] = uniform_int( 1, 100 ); <br>
cur = SEARCH_CND( &quot;IdFirm&quot;, v[0] ); </span></p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name=RNDDRAW></a><a name="_RNDDRAW(_&quot;obj_Lab&quot;,_&quot;Lab&quot;"></a>RNDDRAW(
&quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot; ), RNDDRAWS( <i>obj</i>,
&quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot; )<br>
RNDDRAWL( &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot;, <i>lag </i>),
RNDDRAWLS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot;, <i>lag
</i>) </h1>

<p>These Macros search for a group of Objects named <i>obj_Lab</i> and returns
a pointer to one of them, randomly chosen with probability proportional to the
values of the Variable labeled <i>Lab</i> in the same Object. The Macros can
optionally consider <i>obj</i> as the starting point for the search (instead of
the current Object under calculation, <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>) and the specific lag <i>lag</i> if
different from current time step. </p>

<h2>Example </h2>

<p>Consider the Equation for <i>DrawAFirm</i> which has to return the value of
Parameter <i>IdFirm</i> in one randomly selected <i>Firm</i> among the Objects <i>Firm</i>
descending from the Object where <i>DrawAFirm</i> is contained in. The Equation
could be: &nbsp; </p>

<p><span class=Cdigo>EQUATION( &quot;DrawAFirm&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/***************************
<br>
Return the Id of a Firm chosen randomly with probability <br>
equal to the square of the market shares. <br>
***************************/ </span></span></p>

<p><span class=Cdigo>CYCLE( cur, &quot;Firm&quot; ) <br>
{ <br>
&nbsp; v[0] = V( &quot;ms&quot; ); <br>
&nbsp; WRITES( cur, &quot;Prob&quot;, v[0] * v[0] ); <br>
} </span></p>

<p><span class=Cdigo>cur = RNDDRAW( &quot;Firm&quot;, &quot;Prob&quot; ); </span></p>

<p><span class=Cdigo>RESULT( VS( cur, &quot;IdFirm&quot; ) )</span></p>

<p>The code assigns to the Parameter <i>Prob</i> in each <i>Firm</i> the square
of their market shares (<i>ms</i>), so drawing probability is defined by <i>Firm</i>’s
squared <i>ms</i>, and then draws randomly one of them, returning its address
to be stored in <span class=Cdigo><a href="#_Model_specific_objects">cur</a></span>.
</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><span style='font-family:"Times New Roman","serif"'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</span></div>

<h1><a name="_RNDDRAW_FAIR(_&quot;obj_Lab&quot;_),"></a><a name="RNDDRAW_FAIR"></a>RNDDRAW_FAIR(
&quot;<i>obj_Lab</i>&quot; ), RNDDRAW_FAIRS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;
) </h1>

<p>These Macros are identical to <span class=Cdigo><a
href="#_RNDDRAW(_&quot;obj_Lab&quot;,_&quot;Lab&quot;">RNDDRAW(…)</a></span>
but use the same probability for all Object, that is, all Objects named <i>Lab</i>
have the same probability of being drawn. The Macro can optionally consider <i>obj</i>
as the starting point for the search (instead of the current Object under
calculation, <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>).</p>

<h2>Example </h2>

<p>The following Equation returns the Parameter <i>IdFirm</i> from a randomly
chosen Object <i>Firm</i>. </p>

<p><span class=Cdigo>EQUATION( &quot;DrawAFirm&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/***************************
<br>
Return the Id of a Firm chosen randomly with identical <br>
probabilities for each object <br>
***************************/ </span></span></p>

<p><span class=Cdigo>cur = RNDDRAW_FAIR( &quot;Firm&quot; ); </span></p>

<p><span class=Cdigo>RESULT( VS( cur, &quot;IdFirm&quot; ) )</span></p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><span style='font-family:"Times New Roman","serif"'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</span></div>

<h1><a name="_RNDDRAW_TOT(_&quot;obj_Lab&quot;,_&quot;Lab&quot;,"></a><a
name="RNDDRAW_TOT"></a>RNDDRAW_TOT( &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot;,
<i>total </i>), RNDDRAW_TOTS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot;,
<i>total </i>)<br>
RNDDRAW_TOTL( &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot;, <i>lag</i>, <i>total
</i>), RNDDRAW_TOTLS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab</i>&quot;,
<i>lag</i>, <i>total </i>) </h1>

<p class=MsoNormal>These Macros are identical, but faster, to <span
class=Cdigo><a href="#_RNDDRAW(_&quot;obj_Lab&quot;,_&quot;Lab&quot;">RNDDRAW(…)</a></span>
as the modeler explicitly provide the (correct) sum of all the weights, that is,
the sum of the Variable named <i>Lab</i> among all Objects with label <i>obj_Lab</i>.
Unpredictable drawing behavior is expected if <i>total</i> is not equal to the
sum of all pertinent weights. The Macros can optionally consider <i>obj</i> as the
starting point for the search (instead of the current Object under calculation,
<span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>) and the specific
lag <i>lag</i> if different from current time step.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_WRITE(&quot;Lab&quot;,_new_value),_WRITEL(&quot;La"></a><a
name="_WRITE(_&quot;Lab&quot;,_new_value"></a><a name=WRITE></a>WRITE( &quot;<i>Lab</i>&quot;,
<i>new_value </i>), WRITES( <i>obj</i>, &quot;<i>Lab</i>&quot;, <i>new_value </i>)<br>
WRITEL( &quot;<i>Lab</i>&quot;, <i>new_value</i>, <i>time </i>), WRITELS( <i>obj</i>,
&quot;<i>Lab</i>&quot;, <i>new_value</i>, <i>time </i>)<br>
WRITELL( &quot;<i>Lab</i>&quot;, <i>new_value</i>, <i>time</i>, <i>lag </i>),
WRITELLS( <i>obj</i>, &quot;<i>Lab</i>&quot;, <i>new_value</i>, <i>time</i>, <i>lag
</i>)</h1>

<p>These Macros write the value <i>new_value</i> in the Variable or Parameter
named <i>Lab</i>.&nbsp;In the case of a Variable, it is possible to make appear
as if the time of latest computation for the overwriten Variable is <i>time</i>.
That is, after the Macro is executed, the Variable <i>Lab</i> will appear to
LSD as if its last computation had been executed at time <i>time</i>, and the
result of the Equation were <i>new_value</i>. If the label <i>Lab</i>
corresponds to a Parameter, the field <i>time</i> is ignored. The Variable must
be contained in the Object <i>obj</i>, (or in <a href="#p"><span class=Cdigo><span
style='color:blue'>p</span></span></a> if <i>obj</i> not specified), otherwise
the Macros return an error and stop the simulation. </p>

<p>Additionally, the “<span class=Cdigo>LL</span>” versions of the Macro allow
also modifying lagged values of a Variable (the fields <i>time</i> and <i>lag</i>
are ignored for Parameters). This means that one can “rewrite the past”,
changing the value LSD would retrieve if a lagged value of the Variable is
subsequently requested (in a <span class=Cdigo><a
href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">VL(…)</a></span>
command, for instance). Warning: this can be a very dangerous practice and is
only recommended to correctly initialize lagged values of Variables in Objects
created in the middle of the simulation.</p>

<h2>Warning</h2>

<p>These Macros can be very useful to implement complex situations, but they
should be used with extreme care because they potentially disrupt the automatic
updating system of execution of the Equations. The best practice is to use <span
class=Cdigo>WRITE(…)</span> to change Parameter values during the simulation.
Another frequent use of <span class=Cdigo>WRITE(…)</span>, when used with
Variables, concerns the initialization of newly added Objects. </p>

<p>See <span class=Cdigo><a href="#_RECALC(_&quot;Lab&quot;_),">RECALC(…)</a></span>
for another, less invasive Macro to force the reevaluation of already
calculated (or just created) Variables.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_INCR(_&quot;Lab&quot;,_value"></a><a name=INCR></a>INCR( &quot;<i>Lab</i>&quot;,
<i>value </i>), INCRS( <i>obj</i>, &quot;<i>Lab</i>&quot;, <i>value </i>) </h1>

<p>These Macros add <i>value</i> to the numeric content of the Variable named <i>Lab</i>.
They work only if Variable <i>Lab</i> is contained in Object <i>obj</i>, or in
the current Object <a href="#p"><span class=Cdigo><span style='color:blue'>p</span></span></a>
if <i>obj</i> is not specified, otherwise it produces an error. The Macros also
return the new value after the increment. </p>

<p><span class=Cdigo>INCR(…)</span> Macro family should be used preferably with
Parameters, for the same reasons explained in the <span class=Cdigo>WRITE(…)</span>
Macro family.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_MULT(_&quot;Lab&quot;,_value"></a><a name=MULT></a>MULT( &quot;<i>Lab</i>&quot;,
<i>value </i>), MULTS( <i>obj</i>, &quot;<i>Lab</i>&quot;, <i>value </i>) </h1>

<p>These Macros multiply the numeric content of the Variable named <i>Lab</i>
by <i>value</i>. They work only if Variable <i>Lab</i> is contained in Object <i>obj</i>,
or in the current Object <a href="#p"><span class=Cdigo><span style='color:
blue'>p</span></span></a> if <i>obj</i> is not specified, otherwise it produces
an error. The Macros also return the new value after the multiplication. </p>

<p><span class=Cdigo>MULT(…)</span> Macro family should be used preferably with
Parameters, for the same reasons explained in the <span class=Cdigo>WRITE(…)</span>family.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_CYCLE(_cur,_&quot;obj_Lab&quot;"></a><a name=CYCLE></a>CYCLE( <i>cur</i>,
&quot;<i>obj_Lab</i>&quot; ) { }, CYCLES( <i>obj</i>_<i>from</i>, <i>cur</i>,
&quot;<i>obj_Lab</i>&quot; ) { }<br>
CYCLE_SAFE( <i>cur</i>, &quot;<i>obj_Lab</i>&quot; ) { }, CYCLE_SAFES( <i>obj</i>_<i>from</i>,
<i>cur</i>, &quot;<i>obj_Lab</i>&quot; ) { }</h1>

<p class=MsoNormal>These Macros scan all the Objects labelled <i>obj_Lab</i>
descending from current Object <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>
or from the specified Object <tt><i><span style='font-size:10.0pt;font-family:
"Arial","sans-serif"'>obj</span></i></tt><tt><span style='font-size:10.0pt;
font-family:"Arial","sans-serif"'>_<i>from</i></span></tt><tt><span
style='font-size:13.5pt;font-family:"Arial","sans-serif"'>,</span></tt>
assigning cyclically the pointer <i>cur</i> specified to the address of each
target Object. Nested <span class=Cdigo>CYCLE(…)</span>’s can be used, provided
that the pointers (<span class=Cdigo><a href="#_Temporary_Object's_pointers:">cur</a></span>,
<span class=Cdigo><a href="#_Temporary_Object's_pointers:">cur1</a></span>, <span
class=Cdigo><a href="#_Temporary_Object's_pointers:">cur2</a></span>,…) differ
for the different levels.</p>

<h2>Example </h2>

<p>For example, consider a model including Object <i>Market</i> containing
Objects <i>Firm</i>. An Equation in an Object containing a set of <i>Market</i>s,
for example, representing countries, can use the following nested code: </p>

<p><span class=Cdigo>v[0] = 0;</span><span class=Cdigo><span style='color:#00B050'>
// set to v[0] to be initially 0 <br>
</span>CYCLE( cur, &quot;Market&quot; ) <br>
{ </span><span class=Cdigo><span style='color:#00B050'>// for each market</span>
<br>
&nbsp; CYCLES( cur, cur1, &quot;Firm&quot; ) <br>
&nbsp;&nbsp;{ </span><span class=Cdigo><span style='color:#00B050'>// for each
firm, contained in cur</span> <br>
&nbsp;&nbsp;&nbsp; v[1] = VS( cur1, &quot;Profit&quot; ); <br>
&nbsp;&nbsp;&nbsp; v[0] = v[0] + v[1]; <br>
&nbsp;&nbsp;} <br>
} <br>
</span><span class=Cdigo><span style='color:#00B050'>// from here v[0] contains
the cumulated profits</span> </span></p>

<p>The <span class=Cdigo><a href="#_Temporary_Object's_pointers:">cur</a></span>
pointer cycles through all Objects named <i>Market</i> (supposing there is more
than one). In turn, for each <i>Market</i> the pointer <span class=Cdigo><a
href="#_Temporary_Object's_pointers:">cur1</a></span> cycles through each
Object labelled <i>Firm</i> that is contained in this specific <i>Market</i>. For
each <i>Firm</i>, <span class=Cdigo><a href="#_CURRENT">v[1]</a></span>
receives the value of the Variable named <i>Profit</i> related to that
particular <i>Firm</i>, which is subsequently accumulated in <span class=Cdigo><a
href="#_CURRENT">v[0]</a></span>. </p>

<p class=MsoNormal>See also the example for <span class=Cdigo><a
href="#_RNDDRAW(_&quot;obj_Lab&quot;,_&quot;Lab&quot;_">RNDDRAW(…)</a></span>.</p>

<h2>Warning </h2>

<p>Never use <span class=Cdigo><a href="#_DELETE(_obj_)">DELETE(…)</a></span>
inside a <span class=Cdigo>CYCLE(…)</span> to remove one of the Objects being
cycled at any nesting level. In fact, deleting any Object pointed to by <span
class=Cdigo><a href="#_Temporary_Object's_pointers:">cur</a></span> prevents
the <span class=Cdigo>CYCLE(…)</span>from identifying the next one in the
brotherhood chain. Instead, use the alternative Macros <span class=Cdigo>CYCLE_SAFE(…)</span>.
In this case, it is possible to delete the Object pointed by the cycling
pointer <span class=Cdigo><a href="#_Temporary_Object's_pointers:">cur</a></span>.
However, it is not possible to nest different <span class=Cdigo>CYCLE_SAFE(…)</span>
levels. </p>

<p>The example below is a mistake because <span class=Cdigo><a
href="#_Temporary_Object's_pointers:">cur1</a></span> is deleted within a <span
class=Cdigo>CYCLE(…)</span> command:</p>

<p><b>ERROR - ERROR - ERROR</b> <br>
<span class=Cdigo>CYCLE( cur, &quot;Market&quot; ) <br>
{ </span><span class=Cdigo><span style='color:#00B050'>// for each market</span>
<br>
&nbsp; CYCLES( cur, cur1, &quot;Firm&quot; ) <br>
&nbsp;&nbsp;{ </span><span class=Cdigo><span style='color:#00B050'>// for each
firm, contained in cur</span> <br>
&nbsp;&nbsp;&nbsp; v[1] = VS( cur1, &quot;Profit&quot; ); <br>
&nbsp;&nbsp;&nbsp; if ( v[1] &lt; 0 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DELETE( cur1 ); </span><span class=Cdigo><span
style='color:#00B050'>// ERROR: this undermines the inner CYCLE</span> <br>
&nbsp; } <br>
} <br>
</span><b>ERROR - ERROR - ERROR</b> </p>

<p>Instead, the correct code should be: </p>

<p><span class=Cdigo>CYCLE( cur, &quot;Market&quot; ) <br>
{ </span><span class=Cdigo><span style='color:#00B050'>// for each market</span>
<br>
&nbsp; CYCLE_SAFES( cur, cur1, &quot;Firm&quot; ) <br>
&nbsp;&nbsp;{ </span><span class=Cdigo><span style='color:#00B050'>// for each
firm, contained in cur</span> <br>
&nbsp;&nbsp;&nbsp; v[1] = VS( cur1, &quot;Profit&quot; ); <br>
&nbsp;&nbsp;&nbsp; if ( v[1] &lt; 0 ) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DELETE( cur1 ); <br>
&nbsp; } <br>
} </span></p>

</div>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_ADDOBJ(_&quot;obj_Lab&quot;_),"></a><a name=ADDOBJ></a>ADDOBJ(
&quot;<i>obj_Lab</i>&quot; ), ADDOBJS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot; )<br>
ADDOBJL( &quot;<i>obj_Lab</i>&quot;, <i>t_upd</i> ), ADDOBJLS( <i>obj</i>,
&quot;<i>obj_Lab</i>&quot;, <i>t_upd</i> )<br>
<a name=ADDNOBJ></a>ADDNOBJ( &quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex
), ADDNOBJS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex
)<br>
ADDNOBJL( &quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex ), ADDNOBJLS( <i>obj</i>,
&quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex )</h1>

<p class=MsoNormal>These Macros add a new descendent Object named <i>obj_Lab</i>
to the Object <i>obj</i>, or to <a href="#p"><span class=Cdigo><span
style='color:blue'>p</span></span></a> if <i>obj</i> is not specified. <span
class=Cdigo>ADDOBJ(…)</span> returns a pointer to the newly created Object.
More than one Object can be created at once if their number <i>num</i> is
informed in <span class=Cdigo>ADDNOBJ(…)</span> forms. In this case, a pointer
is returned only to the first created Object. The additional ones can be easily
reached by using the <span class=Cdigo><a href="#_Object’s_relatives:_up,">next</a></span>
construct over the first Object (<span class=Cdigo>cur-&gt;next</span>, <span
class=Cdigo>cur-&gt;next-&gt;next</span> etc.).</p>

<p class=MsoNormal>The <span class=Cdigo>ADDOBJ(…)</span> versions initializes
the newly created Object(s), that is, sets the values for its Parameters and
lagged Variables, according to the values defined in the model configuration
(and modified by the simulation until the current time step).</p>

<p class=MsoNoSpacing>The Macros without the “<span class=Cdigo>L</span>”
suffix set the new object(s) as modified by the simulation during the current
time step, that is, its (their) Variables are going to be updated only in the
next step. Instead, the Macros with the “<span class=Cdigo>L</span>” suffix
allow for the definition of the time of last update <i>t_upd</i> for all of the
Object’s Variables, if <i>t_upd</i> is positive or zero. If <i>t_upd</i> is
negative, the effective time of last update from each Variable of the original
copied Object (or current time, if the Variable was never updated).</p>

<p class=MsoNormal>In case the original Object was defined as having
descendants (of any level), the Macros builds the whole structure of
descendants also under the new Object(s). As the Macros return the address of
the newly created Object(s), the modeler can easily add in the creation
Equation some customized initialization code. See Macro family <span
class=Cdigo><a href="#_WRITE(&quot;Lab&quot;,_new_value),_WRITEL(&quot;La">WRITE(…)</a></span>
for details on changing the initial values of Variables (including lagged
values) and Parameters. </p>

<p>If the original (and so, the new) Object is set to save the values of all or
some of its Variables, these will be available for the post-simulation Analysis
of Results. The data concerning the periods before an Object introduction in
the simulation is filled with missing values (“NA”).</p>

<h2>Example </h2>

<p>For example, you can have an Equation for a Variable in the Object Market
that contains the following: </p>

<p><span class=Cdigo>…<br>
cur = ADDOBJ( &quot;Firm&quot; ); <br>
WRITES( cur, &quot;DateBirth&quot;, T ); <br>
…</span></p>

<p>The lines above create a new Object <i>Firm</i>, which has the same initial
data as the first Object in the model file at the current time step. Then, the
code modifies the new Object Parameter named <i>DateBirth</i>, storing there
the current time step. </p>

<h2>Warning </h2>

<p>The newly created Object can only be added to a parent Object which already
has, at least, one descending Object (son) labelled as <i>obj_Lab</i>. </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_ADDOBJ_EX(_&quot;obj_Lab&quot;,_obj_ex"></a><a name="ADDOBJ_EX"></a>ADDOBJ_EX(
&quot;<i>obj_Lab</i>&quot;, <i>obj</i>_ex ), ADDOBJ_EXS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;,
<i>obj</i>_ex )<br>
ADDOBJ_EXL( &quot;<i>obj_Lab</i>&quot;, <i>obj</i>_ex ), ADDOBJ_EXLS( <i>obj</i>,
&quot;<i>obj_Lab</i>&quot;, <i>obj</i>_ex ) <br>
<a name="ADDNOBJ_EX"></a>ADDNOBJ_EX( &quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex
), ADDNOBJ_EXS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex
)<br>
ADDNOBJ_EXL( &quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex ),
ADDNOBJ_EXLS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;, <i>num</i>, <i>obj</i>_ex
)</h1>

<p class=MsoNormal>The <span class=Cdigo>ADDOBJ_EX(…)</span> are special
versions of <span class=Cdigo><a href="#_ADDOBJ(_&quot;obj_Lab&quot;_),">ADDOBJ(…)</a></span>
Macro which use the specific modeler supplied example <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>obj_ex</i> to
initialize the newly created Object(s),<b> </b>generating one or <i>num</i> new
objects, each one a clone of Object <i>obj_ex</i>. In this case, a pointer is
returned only to the first created Object. The additional ones can be easily
reached by using the <span class=Cdigo><a href="#_Object’s_relatives:_up,">next</a></span>
construct over the first Object (<span class=Cdigo>cur-&gt;next</span>, <span
class=Cdigo>cur-&gt;next-&gt;next</span> etc.).</p>

<p class=MsoNormal>Please check more details about the new Object(s) creation,
including initialization, in <span class=Cdigo><a href="#_ADDOBJ(_&quot;obj_Lab&quot;_),">ADDOBJ(…)</a></span>.</p>

<h2>Example </h2>

<p>For example, suppose that in <i>Market</i> Object one wishes to add a new <i>Firm</i>
that is a clone of the most productive existing <i>Firm</i>. The following code
identifies the Object <i>Firm</i> with the maximum productivity and adds a new <i>Firm</i>
with the same initialization data of this <i>Firm</i>: </p>

<p><span class=Cdigo>…<br>
cur = SEARCH( &quot;Firm&quot; );<br>
v[0] = MAXS( cur, &quot;A&quot; ); <br>
cur = SEARCH_CND( &quot;A&quot;, v[0] ); <br>
cur = ADDOBJ_EX( &quot;Firm&quot;, cur ); <br>
…</span></p>

<p>The first line retrieves the address of the first <i>Firm</i> in the
brotherhood chain. The second line finds the value of the highest productivity
among the existing <i>Firm’</i>s. Then, the Macro <span class=Cdigo><a
href="#_SEARCH_CND(_&quot;Lab&quot;,_value">SEARCH_CND(…)</a></span> returns a
pointer to the first Object that has the maximum productivity. Finally, this
Object is used as an example for the creation of the new <i>Firm</i>. Note that
the same temporary pointer <span class=Cdigo><a href="#cur1">cur</a></span> is
used (1) to store the address to the first <i>Firm</i>, (2) the pointer to most
productive <i>Firm</i> and then, (3) the new Object. This may seem strange to
who is not accustomed to C++, but it is perfectly safe. In fact, the content of
the temporary pointer <span class=Cdigo><a href="#cur1">cur</a></span> has
already been used when the Macro returns the newly created Object. </p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_DELETE(_obj_)"></a><a name=DELETE></a>DELETE( <i>obj </i>) </h1>

<p>This Macro deletes the Object pointed by <i>obj</i> from the model, including
all descending Objects if any, and freeing the allocated memory. </p>

<p>While its use is very simple, <span class=Cdigo>DELETE(…)</span> should be
used with care to avoid the elimination of data structures still used in other
parts of the model, including any descending Object. The data produced by the
Object until deletion (and marked for saving) will be still available for the
Analysis of Results. Missing values (“NA”) fill data for the periods after the
deletion. </p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_SORT(_&quot;obj_Lab&quot;,_&quot;Lab1&quot;,"></a><a name=SORT></a>SORT(
&quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab1</i>&quot;, &quot;<i>Dir</i>&quot; ),
SORTS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab1</i>&quot;, &quot;<i>Dir</i>&quot;
)<br>
<a name=SORT2></a>SORT2( &quot;<i>obj_Lab</i>&quot;, &quot;<i>Lab1</i>&quot;,
&quot;<i>Lab2</i>&quot;, &quot;<i>Dir</i>&quot; ), SORT2S( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;,
&quot;<i>Lab1</i>&quot;, &quot;<i>Lab2</i>&quot;, &quot;<i>Dir</i>&quot; )</h1>

<p>These Macros sort (with the quick sort method) a chain of Objects labeled <i>obj_Lab</i>
according to the values of Variable named <i>Lab1</i> contained in each Object
being sorted. The option &quot;<i>Dir</i>&quot; must be either <span
class=Cdigo>&quot;UP&quot;</span> or <span class=Cdigo>&quot;DOWN&quot;</span>
(including the quotation marks). <span class=Cdigo>SORT(…)</span> produces an
error in case Variable <i>Lab1</i>, though defined in the model, is not
contained in the Object named <i>obj_Lab</i>. In case there are more than one
chain of Objects with label <i>obj_Lab</i>, the Macro sorts only the first set
found by exploring the model with the usual full search strategy (see <span
class=Cdigo><a href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">V(…)</a></span>).
If <i>obj</i> is specified, the search for the group of Objects to be sorted
starts from <i>obj</i>. </p>

<p>The <span class=Cdigo>SORT2(…)</span> Macros are available for ranking on
two dimensions, firstly on the Variable named <i>Lab1</i> and then on Variable <i>Lab2</i>.</p>

<h2>Example </h2>

<p>The following line, used in a Variable’s Equation contained in an Object
from which descend many Objects labelled <i>Firm</i>, sorts these descendants
according to decreasing values of their Variable <i>Q</i>. </p>

<p><span class=Cdigo>SORT( &quot;Firm&quot;, &quot;Q&quot;, &quot;DOWN&quot; );
</span></p>

<p>In the second example, the Objects labelled as <i>Market</i> are sorted
according to their increasing values of their Variable or Parameter named <i>X</i>.
If two or more <i>Markets</i> have identical values on <i>X</i>, then the
Variable or Parameter <i>Y</i> is used to sort them. </p>

<p><span class=Cdigo>SORT2( &quot;Market&quot;, &quot;X&quot;, &quot;Y&quot;,
&quot;UP&quot; ); </span></p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_INIT_LAT(_&quot;row_Lab&quot;,_&quot;col_Lab&quot;"></a><a
name="INIT_LAT"></a>INIT_LAT( &quot;<i>row_Lab</i>&quot;, &quot;<i>col_Lab</i>&quot;
)<br>
INIT_LAT( &quot;<i>row_Lab</i>&quot;, &quot;<i>col_Lab</i>&quot;, <i>color</i>
)<br>
INIT_LAT( &quot;<i>row_Lab</i>&quot;, &quot;<i>col_Lab</i>&quot;, <i>color</i>,
<i>rows</i>, <i>cols</i> )<br>
INIT_LAT( &quot;<i>row_Lab</i>&quot;, &quot;<i>col_Lab</i>&quot;, <i>color</i>,
<i>rows</i>, <i>cols</i>, <i>width</i>, <i>height</i> )</h1>

<p class=MsoNormal>These Macros create a bi-dimensional lattice graphical
window available for simulation run time updating. The lattice is formed by <i>rows</i>
lines and <i>cols</i> columns, set to 100 × 100 by default. The user can also
set the physical window size as <i>width</i> × <i>height</i> pixels, set to 600
× 400 by default, and the background <i>color</i>, set to white if not
explicitly defined (see the available colors in <span class=Cdigo><a
href="#_WRITE_LAT(_row,_col">WRITE_LAT(…)</a></span>).</p>

<p class=MsoNormal><span class=Cdigo>INIT_LAT(…)</span> requires the
definition, at least, of labels to name the vertical (<i>row_Lab</i>) and
horizontal (<i>col_Lab</i>) axis. This Macro must be used only once in each
simulation run. </p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

<h1><a name="_WRITE_LAT(line,_column,_value)"></a><a
name="_WRITE_LAT(_row,_col,"></a><a name="_WRITE_LAT(_row,_col"></a><a
name="WRITE_LAT"></a>WRITE_LAT( <i>row</i>, <i>col </i>)<br>
WRITE_LAT( <i>row</i>, <i>col</i>, <i>color</i> ) </h1>

<p class=MsoNormal>These Macros write to one cell in the lattice, modifying its
color. The change is applied to the lattice cell in line <i>row</i> and column <i>col</i>
to the color value defined by <i>color</i>. If <i>color</i> is not specified,
it is set to black (1). </p>

<p class=MsoNormal>Some possible values for <i>color</i> (many more are
possible) are:</p>

<p class=MsoNormal style='margin-left:14.2pt'><b>1</b>.<span style='font-size:
7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Black<br>
<b>2</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Red<br>
<b>3</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Green (dark)<br>
<b>4</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Yellow (dark)<br>
<b>5</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Pink<br>
<b>6</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Blue (dark)<br>
<b>7</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Blue (normal)<br>
<b>8</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Gray<br>
<b>1000</b>.<span style='font-size:7.0pt;font-family:"Times New Roman","serif"'>&nbsp;
</span>White</p>

<p class=MsoNormal>Negative <i>color</i> values set color to the (positive)
24-bit RGB equivalent (<span class=Cdigo>0xrrbbgg</span>, being <span
class=Cdigo>rr</span>, <span class=Cdigo>bb</span> and <span class=Cdigo>gg</span>
from <span class=Cdigo>00</span> to <span class=Cdigo>0xff</span> in
hexadecimal format).</p>

<p class=MsoNormal>Before <span class=Cdigo>WRITE_LAT(…)</span> is used, <span
class=Cdigo><a href="#_WRITE_LAT(_row,_col,">INIT_LAT(…)</a></span> has to be
explicitly called once, if not the command is ignored.</p>

<div style='margin-top:5.0pt;margin-bottom:5.0pt'>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_SAVE_LAT(_&quot;filename&quot;_)"></a><a name="SAVE_LAT"></a>SAVE_LAT(
&quot;<i>filename</i>&quot; ) </h1>

<p class=MsoNormal>This Macro saves a graphical snapshot of the lattice to the
disk as an .eps (encapsulated PostScript) file, in the LSD model directory,
named as “<i>filename</i>.eps”. If <i>filename</i> is not provided, the default
name is “lattice.eps”. The <i>filename</i> may contain a path if saving to a
particular directory is required. If no directory is included in <i>filename</i>,
the file is saved to the current LSD model configuration directory.</p>

<p class=MsoNormal>Before <span class=Cdigo>SAVE_LAT(…)</span> is used, <span
class=Cdigo><a href="#_WRITE_LAT(_row,_col,">INIT_LAT(…)</a></span> has to be
explicitly called once, if not the command is ignored. Multiple snapshots to
different files is possible but requires the user to choose a different <i>filename</i>
in each Macro call (see <span class=Cdigo><a href="#_CONFIG_PATH">CONFIG<span
style='font-family:"Arial","sans-serif"'>/</span>PATH</a></span> for an
example).</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_LSD_networks"></a><a name=Networks></a>LSD Networks</h1>

<p>LSD Network tools provide Macros to configure a set of LSD Objects,
typically a <a href="#_Object’s_relatives:_up,">brotherhood chain</a>, as a
network. Such Objects become the network nodes and any topology of directed
links can be built over them. All Network Macros operate on a special data structure
that can be added to any LSD Object. This structure is named Node. Only Objects
with a Node added can be part of a Network. Networks are represented in LSD as
directed graphs by default. Undirected networks can be represented by using two
directed arcs (links) in opposite directions.</p>

<p>Each LSD Object can have a single Node and so participate in a single
Network. Also, only Objects which are part of a single <a
href="#_Object’s_relatives:_up,">brotherhood chain</a>, that is, have the same
name (label) and parent Object, can be handled as an entity by network-level
Macros. However, multiple Networks can coexist in a model, given that each of
them is based on Nodes associated to different chains. Additionally, Objects
which are not brothers can use some of the basic Network Macros that do not
operate over an entire Network/<a href="#_Object’s_relatives:_up,">brotherhood
chain</a> (typically the ones which do not use the chain name “<i>node_Obj</i>”).</p>

<p>To create a Network, the modeler can start from any of the automatic
generators available in <span class=Cdigo><a
href="#_INIT_NET(_&quot;node_Lab&quot;,_&quot;gen&quot;,">INIT_NET(…)</a></span>,
including a disconnected Network (just Nodes, no link). From any starting
configuration (including no Node at all), it is possible to incrementally add,
remove and modify Nodes and links over the simulation time, by including the
Macros presented below in the Equation code of regular LSD Variables.</p>

<p>LSD Networks can be also loaded from and saved to Pajek-formatted files
(Pajek is a popular free network analysis software), at any time before, during
or after the simulation, using the Macro families <span class=Cdigo><a
href="#_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;">LOAD_NET(…)</a></span>,
<span class=Cdigo><a href="#_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;">SAVE_NET(…)</a></span>
and <span class=Cdigo><a href="#_SNAP_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;">SNAP_NET(…)</a></span>
or the menu options of LSD Browser. It is highly recommended to use Pajek (or
other network analysis software) together with LSD Networks to be able to
visualize them and generate the required network metrics, for instance. </p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="V_NODEID"></a><a name="_V_NODEID(_),_V_NODEIDS("></a>V_NODEID( ),
V_NODEIDS( <i>node_obj</i> )<br>
<a name="V_NODENAME"></a>V_NODENAME( ), V_NODENAMES( <i>node_obj</i> )</h1>

<p>These Macros return the ID (as a double precision integer value) or the name
(as a null-terminated character array pointer) of the Node indicated by <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>node_obj</i>, or
the current Node <span class=Cdigo>p</span> otherwise, respectively. Unnamed
Nodes are indicated as a null string. IDs are not required to be unique in the
Network. If the selected Object is not a Node, the Macros return zero or <span
class=Cdigo>NULL</span>, respectively.<span style='font-family:"Times New Roman","serif"'>
</span></p>

<p>Please note that the Node name is not related to the name (label) of the
Object hosting the Node.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_V_LINK(_link_)"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_V_LINK(_link_)_1"></a><a name="V_LINK"></a>V_LINK( <i>link</i> )</h1>

<p>This Macro returns the weight of the Link pointed by pointer <i>link</i>, as
set by <span class=Cdigo><a href="#_WRITE_LINK(_link,_weigth_1">WRITE_LINK(…)</a></span>.
</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_STAT_NET(_node_obj_),"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="STAT_NET"></a><span>STAT_NET( &quot;<i>node_Lab</i>&quot;
), STAT_NETS( <i>obj</i>, &quot;<i>node_Lab</i>&quot; )<br>
<a name="STAT_NODE"></a>STAT_NODE( ), STAT_NODES( <i>node_obj</i> )</span></h1>

<p class=MsoNormal>The <span class=Cdigo>STAT_NET(…)</span> Macros provides
statistics of a Network composed by the Objects labelled <i>node_Lab</i>,
descending from the Object pointed by <i>obj</i> or the current Object <span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span> otherwise. The results
are stored in the <a href="#_CURRENT">temporary storage</a> as follows: </p>

<p class=MsoNormal style='margin-left:14.2pt'><span class=Cdigo>v[0]</span>:
number of Nodes<br>
<span class=Cdigo>v[1]</span>: number of Links (directed arcs)<br>
<span class=Cdigo>v[2]</span>: average out-degree<br>
<span class=Cdigo>v[3]</span>: minimum out-degree<br>
<span class=Cdigo>v[4]</span>: maximum out-degree<br>
<span class=Cdigo>v[5]</span>: density (including loops)</p>

<p class=MsoNormal>The <span class=Cdigo>STAT_NODE(…)</span> Macros set in <span
class=Cdigo><a href="#_CURRENT">v[0]</a></span> the number of outgoing Links
from the Node indicated by <a href="#_Temporary_Object's_pointers:">Object
pointer</a> <i>node_obj</i>, or the current Node <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span> otherwise.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_SEARCH_NODE(_&quot;node_Lab&quot;,_value"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="SEARCH_NODE"></a>SEARCH_NODE( &quot;<i>node_Lab</i>&quot;, <i>id </i>),
SEARCH_NODES( <i>obj</i>, &quot;<i>node_Lab</i>&quot;, <i>id</i> )<br>
<a name="SEARCH_LINK"></a>SEARCH_LINK( <i>id </i>), SEARCH_LINKS( <i>node_obj</i>,
<i>id </i>)</h1>

<p class=MsoNormal>The <span class=Cdigo>SEARCH_NODE(…)</span> Macros search
for a Node from a Network composed by the Objects labelled <i>node_Lab</i>,
descending from the Object pointed by <i>obj</i> or the current Object <span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span> otherwise, for the first
occurrence of an ID <i>id</i>. The Macros return an <a
href="#_Temporary_Object's_pointers:">Object pointer</a> to the first found
Node or <span class=Cdigo>NULL</span> if no Node is found. <span class=Cdigo>SEARCH_NODE(…)</span>
can be slow for large networks, a customized <a href="#_TSEARCH(_&quot;obj_Lab&quot;,_pos">turbo
search</a> approach is recommended in such cases.</p>

<p class=MsoNormal>The <span class=Cdigo>SEARCH_LINK(…)</span> Macros search
for outgoing Links from a Node indicated by <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>node_obj</i>, or
the current Node <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>
otherwise, for first occurrence of a Link destined to a Node with ID equal to <i>id</i>.
The Macros return a <a href="#_Model_specific_objects">Link pointer</a> to the
found Link or <span class=Cdigo>NULL</span> if no link exists to the searched
destination.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_RNDDRAW_NODE(_&quot;node_Lab&quot;_),"></a><a name="RNDDRAW_NODE"></a>RNDDRAW_NODE(
&quot;<i>node_Lab</i>&quot;<i> </i>), RNDDRAW_NODES( <i>obj</i>, &quot;<i>node_Lab</i>&quot;<i>
</i>)<span style='font-size:12.0pt;color:black'><br>
</span><a name="RNDDRAW_LINK"></a>RNDDRAW_LINK( ), RNDDRAW_LINKS( <i>node_obj </i>)</h1>

<p class=MsoNormal>The <span class=Cdigo>RNDDRAW_NODE(…)</span> Macros random
draw one Node from a Network composed by the Objects labelled <i>node_Lab</i>,
descending from the Object pointed by <i>obj</i> or the current Object <span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span> otherwise. All Nodes have
the same drawing probability by default but the individual Node probability may
be reset using <span class=Cdigo><a href="#_DRAWPROB_NODE(_prob_),_1">DRAWPROB_NODE(…)</a></span>.
The Macros return an <a href="#_Temporary_Object's_pointers:">Object pointer</a>
to the drawn Node or <span class=Cdigo>NULL</span> if no Node exists.</p>

<p class=MsoNormal>The <span class=Cdigo>RNDDRAW_LINK(…)</span> Macros random
draw one outgoing Link from a Node indicated by <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>node_obj</i>, or
the current Node <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>
otherwise. All Links have the same drawing probability by default but the
individual outgoing Link probability may be reset using <span class=Cdigo><a
href="#_DRAWPROB_NODE(_prob_),_1">DRAWPROB_LINK(…)</a></span>. The Macros
return a <a href="#_Model_specific_objects">Link pointer</a> to the drawn Link
or <span class=Cdigo>NULL</span> if no link exists.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_DRAWPROB_NODE(_prob_),"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_DRAWPROB_NODE(_prob_),_1"></a><a name="DRAWPROB_NODE"></a>DRAWPROB_NODE(
<i>prob </i>), DRAWPROB_NODES( <i>node_obj</i>, <i>prob </i>)<span
style='font-size:12.0pt;color:black;font-weight:normal'><br>
</span><a name="DRAWPROB_LINK"></a>DRAWPROB_LINK( <i>link</i>, <i>prob </i>)</h1>

<p class=MsoNormal>The <span class=Cdigo>DRAWPROB_NODE(…)</span> Macros reset
to <i>prob</i> the random draw probability of the Node indicated by <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>node_obj</i>, or
the current Node <span class=Cdigo>p</span> otherwise. When a random draw is
performed, the probability values attributed to each Node are always rescaled
to add up to 1.</p>

<p class=MsoNormal>The <span class=Cdigo>DRAWPROB_LINK(…)</span> Macros reset
to <i>prob</i> the random draw probability of the Link indicated by the <a
href="#_Model_specific_objects">Link pointer</a> <i>link</i>. When a random
draw is performed, the probability values attributed to each Link are always
rescaled to add up to 1.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_LINKTO(_link_)"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name=LINKTO></a>LINKTO( <i>link </i>)<br>
<a name=LINKFROM></a>LINKFROM( <i>link </i>)</h1>

<p>The Macros return an <a href="#_Temporary_Object's_pointers:">Object pointer</a>
to the destination or to the origin of the Link indicated by the <a
href="#_Model_specific_objects">Link pointer</a> <i>link</i>, respectively. </p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_WRITE_NODEID(_id_),"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="WRITE_NODEID"></a>WRITE_NODEID( <i>id</i> ), WRITE_NODEIDS( <i>node_obj</i>,
<i>id</i> )<br>
<a name="WRITE_NODENAME"></a>WRITE_NODENAME( &quot;<i>name</i>&quot; ),
WRITE_NODENAMES( <i>node_obj</i>, &quot;<i>name</i>&quot; )</h1>

<p>These Macros reset the ID (to an integer value) or the name (to a
null-terminated character array) of the Node indicated by <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>node_obj</i>, or
the current Node <span class=Cdigo>p</span> otherwise, to <i>id</i> or <i>name</i>,
respectively. <i>name</i> can be set to <span class=Cdigo>&quot;&quot;</span>
(null string). <i>id</i> must be provided but it is not required to be unique
in the Network. If the selected Object is not a Node, the Macros do nothing.</p>

<p>Please note that the Node name is not related to the name (label) of the
Object hosting the Node.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_WRITE_LINK(_link,_weigth"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_WRITE_LINK(_link,_weigth_1"></a><a name="WRITE_LINK"></a>WRITE_LINK(
<i>link</i>, <i>weigth </i>)</h1>

<p>This Macro reset the weight of the Link pointed by <a
href="#_Model_specific_objects">Link pointer</a> <i>link</i> to <i>weigth</i>.
The weight of links can be retrieved with <span class=Cdigo><a
href="#_V_LINK(_link_)_1">V_LINK(…)</a></span>.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_INIT_NET(_&quot;node_Lab&quot;,_&quot;gen&quot;,"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="INIT_NET"></a><span>INIT_NET( &quot;<i>node_Lab</i>&quot;,
&quot;<i>gen</i>&quot;, <i>nodes</i>, <i>par1</i>, <i>par2</i> ), INIT_NETS( <i>obj</i>,
&quot;<i>node_Lab</i>&quot;, &quot;<i>gen</i>&quot;, <i>nodes</i>, <i>par1</i>,
<i>par2</i> )</span></h1>

<p>These Macros create a Network using as Nodes the Objects with label <i>node_Lab</i>
that are descendants from current Object <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>, or from Object <i>obj</i>, if supplied.
The Network topology is created using one of the available pseudorandom network
generators (see below) configured with parameters <i>par1</i> and <i>par2</i>
to include a number <i>nodes</i> of Nodes. If the existing number of Objects <i>node_Lab</i>
is less than the required number, the missing objects are automatically created
(excess Objects are not deleted nor included in the Network).</p>

<p>The available network generator algorithms and the respective parameters
are:</p>

<p class=MsoNormal style='margin-left:14.2pt'><b>Disconnected network</b> (<i>gen
</i>= <span class=Cdigo>&quot;DISCONNECTED&quot;</span>) : does not require
parameters <i>par1</i>/<i>par2</i><br>
<b>Directed random network</b> (<i>gen </i>= <span class=Cdigo>&quot;RANDOM-DIR&quot;</span>)
: <i>par1</i> is the total number of directed links, <i>par2</i> not required <br>
<b>Undirected random network</b> (<i>gen </i>= <span class=Cdigo>&quot;RANDOM-UNDIR&quot;</span>)
: <i>par1</i> is two times the total number of undirected links (two arcs per
link), <i>par2</i> not required<br>
<b>Uniform directed random network</b> (<i>gen </i>= <span class=Cdigo>&quot;UNIFORM&quot;</span>)
: <i>par1</i> is the out-degree, <i>par2</i> not required <br>
<b>Renyi-Erdos undirected random network</b> (<i>gen </i>= <span class=Cdigo>&quot;RENYI-ERDOS&quot;</span>)
: <i>par1</i> is the average out-degree, <i>par2</i> not required<br>
<b>Star network</b> (<i>gen </i>= <span class=Cdigo>&quot;STAR&quot;</span>)&nbsp;:
does not require parameters <i>par1</i>/<i>par2</i> (hub is first Node in the
chain)<br>
<b>Circle network</b> (<i>gen </i>= <span class=Cdigo>&quot;CIRCLE&quot;</span>)&nbsp;:
<i>par1</i> is the out-degree, <i>par2</i> not required <br>
<b>Small World random network</b> (<i>gen </i>= <span class=Cdigo>&quot;SMALL-WORLD&quot;</span>)
: <i>par1</i> is the out-degree, <i>par2</i> is the rewiring probability <br>
<b>Scale-free random network</b> (<i>gen </i>= <span class=Cdigo>&quot;SCALE-FREE&quot;</span>)
: <i>par1</i> is the average out-degree, <i>par2</i> is the exponential scale
factor<br>
<b>Lattice network</b> (<i>gen </i>= <span class=Cdigo>&quot;LATTICE&quot;</span>)
: <i>par1</i> is the number of lattice rows/columns, <i>par2</i> is 0 for 4
neighbors and 1 for 8 neighbors per cell</p>

<p class=MsoNormal>The <span class=Cdigo>INIT_NET(…)</span> Macro return the
effective number of directed links (arcs) of the generated network. According
to the generator used, the Network may have to be reshuffled before use,
applying <span class=Cdigo><a href="#_SHUFFLE_NET(_&quot;node_Lab&quot;_),_1">SHUFFLE_NET(…)</a></span>.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;"></a><a
name="LOAD_NET"></a>LOAD_NET<a name="_SAVE_NET()"></a>( &quot;<i>node_Lab</i>&quot;,
&quot;<i>filename</i>&quot; ), LOAD_NETS( <i>obj</i>, &quot;<i>node_Lab</i>&quot;,
&quot;<i>filename</i>&quot; )<br>
<a name="SAVE_NET"></a>SAVE_NET( &quot;<i>node_Lab</i>&quot;, &quot;<i>filename</i>&quot;
), SAVE_NETS( <i>obj</i>, &quot;<i>node_Lab</i>&quot;, &quot;<i>filename</i>&quot;
)</h1>

<p class=MsoNormal>The <span class=Cdigo>LOAD_NET(…)</span> Macros read a
network in Pajek format from file named “filename_xx.net” (where xx is the
current pseudorandom number generator seed, see <span class=Cdigo><a
href="#_RND_SETSEED(_seed_)">RND_SEED</a></span>) using as Nodes the Objects
with label <i>node_Lab</i> that are descendants from current Object <span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span>, or from Object <i>obj</i>,
if supplied. If the existing number of Objects <i>node_Lab</i> is less than the
required number, the missing objects are automatically created (excess Objects
are not deleted nor included in the Network).</p>

<p class=MsoNormal>The <span class=Cdigo>SAVE_NET(…)</span> Macros save one LSD
Network to a file in Pajek format named “filename_xx.net” (where xx is the
current seed, as before) using as Nodes the Objects with label <i>node_Lab</i>
that are descendants from current Object <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>, or from Object <i>obj</i>, if supplied.
The Network is not affected by these Macros. The filename may contain a path if
saving to a particular directory is required. If no directory is included in
filename, the file is saved to the current LSD model configuration directory.</p>

<p>If multiple simulation runs are going on xx (the seed) is automatically
incremented sequentially, forcing the loading from or the saving to a different
network file for each run. This is particularly useful when performing Monte
Carlo analysis.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_SNAP_NET()"></a><a
name="_SNAP_NET(_&quot;node_Lab&quot;,_&quot;filename"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_SNAP_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;"></a><a
name="SNAP_NET"></a>SNAP_NET( &quot;<i>node_Lab</i>&quot;, &quot;<i>filename</i>&quot;
), SNAP_NETS( <i>obj</i>, &quot;<i>node_Lab</i>&quot;, &quot;<i>filename</i>&quot;
)</h1>

<p class=MsoNormal>The <span class=Cdigo>SNAP_NET(…)</span> Macros add a new
LSD Network snapshot to a multi-network file in Pajek format named “<i>filename</i>_xx.paj”
(where xx is the current seed, as in <span class=Cdigo><a
href="#_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;_">LOAD_NET(…)</a></span>)
using as Nodes the Objects with label <i>node_Lab</i> that are descendants from
current Object <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>, or
from Object <i>obj</i>, if supplied. The Network is not affected by these
Macros. The <i>filename</i> may contain a path if saving to a particular
directory is required. If no directory is included in filename, the file is
saved to the current LSD model configuration directory.</p>

<p>Multi-network files allow the analysis of the network dynamics in Pajek (or
other software). If multiple simulation runs are going on xx (the seed) is
automatically incremented sequentially, forcing the loading from or the saving
to a different multi-network file for each run.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_ADDNODE(_id,_&quot;name"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_ADDNODE(_id,_&quot;name&quot;"></a><a name=ADDNODE></a>ADDNODE( <i>id</i>,
&quot;<i>name</i>&quot; ), ADDNODES( <i>obj</i>, <i>id</i>, &quot;<i>name</i>&quot;
)</h1>

<p>These Macros add the Node data structure to the Object indicated by <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>obj</i>, or the
current Object <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>
otherwise, defining also its Node ID to <i>id</i> (an integer value) and the
Node name to <i>name</i> (a character string). <i>name</i> can be set to <span
class=Cdigo>&quot;&quot;</span> (null string). <i>ID</i> must be provided but
it is not required to be unique in the Network.</p>

<p>If Node already exists in the selected Object, it is reset (all existing
Links are destroyed) to the new values (but preserving the unique system
controlled serial number). Please note that the Node name is not related to the
name (label) of the Object hosting the Node.</p>

<p class=MsoNormal>The <span class=Cdigo>ADDNODE(…)</span> Macro returns an <a
href="#_Temporary_Object's_pointers:">Object pointer</a> to the newly created
Node.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_ADDLINK(_node_obj_),"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name=ADDLINK></a>ADDLINK( <i>node_obj</i> ), ADDLINKS( <i>obj</i>, <i>node_obj</i>
)<br>
ADDLINKW( <i>node_obj</i>, <i>weigth</i> ), ADDLINKWS( <i>obj</i>, <i>node_obj</i>,
<i>weigth</i> )</h1>

<p>These Macros add a new Link from the Node indicated by <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>obj</i>, or the
current Node <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>
otherwise, to the Node pointed by <i>node_obj</i>. Both Nodes must be in the
same <a href="#_Object’s_relatives:_up,">brotherhood chain</a>. If any of the
Objects is not yet a Node, it has the Node added automatically. Link may have
its weight set to <i>weight</i> when using the <span class=Cdigo>ADDLINKW(…)</span>
Macros, or have the weight set to 1 by default.</p>

<p class=MsoNormal>The <span class=Cdigo>ADDLINK(…)</span> Macro returns a <a
href="#_Model_specific_objects">Link pointer</a> to the newly created Link.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_DELETE_NET(_&quot;node_Lab&quot;_),"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="DELETE_NET"></a>DELETE_NET( &quot;<i>node_Lab</i>&quot; ),
DELETE_NETS( <i>obj</i>, &quot;<i>node_Lab</i>&quot; )<br>
<a name="DELETE_NODE"></a>DELETE_NODE( ), DELETE_NODES( <i>node_obj</i> )<br>
<a name="DELETE_LINK"></a>DELETE_LINK( <i>link </i>)</h1>

<p class=MsoNormal>The <span class=Cdigo>DELETE_NET(…)</span> Macros delete a Network
composed by the Objects labelled <i>node_Lab</i>, descending from the Object
pointed by <i>obj</i> or the current Object <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span> otherwise. All Nodes and Links
associated with the <a href="#_Object’s_relatives:_up,">brotherhood chain</a>
defined by <i>node_Lab</i> is deleted but no Object in the chain is deleted.</p>

<p class=MsoNormal>The <span class=Cdigo>DELETE_NODE(…)</span> Macros delete
the Node pointed by <a href="#_Temporary_Object's_pointers:">Object pointer</a>
<i>node_obj</i>. The Object hosting the Node is not deleted.</p>

<p class=MsoNormal>The <span class=Cdigo>DELETE_LINK(…)</span> Macro delete the
Link pointed by <a href="#_Model_specific_objects">Link pointer</a> <i>link</i>.
The Nodes/Objects pointed by <i>link</i> are not deleted.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_SHUFFLE_NET(_&quot;node_Lab&quot;_),"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_SHUFFLE_NET(_&quot;node_Lab&quot;_),_1"></a><a name="SHUFFLE_NET"></a>
<span>SHUFFLE_NET( &quot;<i>node_Lab</i>&quot; ), SHUFFLE_NETS( <i>obj</i>,
&quot;<i>node_Lab</i>&quot; )</span></h1>

<p>These Macros shuffle the Nodes of a Network composed by the Objects labelled
<i>node_Lab</i>, descending from the Object pointed by <i>obj</i> or the
current Object <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>
otherwise, using the Fischer-Yates shuffling algorithm.</p>

<p>Shuffling reassigns Node IDs but does not change original node's serial
numbers or the network structure.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_CYCLE_LINK(_curl_),"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="CYCLE_LINK"></a>CYCLE_LINK( <i>curl</i> ), CYCLE_LINKS( <i>node_obj</i>,<i>
curl</i> )</h1>

<p>This Macro creates a cycle (loop) through the set of all Links departing
from a Node pointed by <a href="#_Temporary_Object's_pointers:">Object pointer</a>
<i>node_obj</i> or the current Object <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span> otherwise, using <a
href="#_Model_specific_objects">Link pointer</a> <i>curl</i> as iterator.</p>

<p>The following example shows an example. An Equation in the current Object
Node scans all linked Nodes to calculate the average income of its neighbors:</p>

<p><span class=Cdigo>…<br>
v[1] =
0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><span style='color:#00B050'>// reset the income
accumulator</span><br>
CYCLE_LINK( curl1
)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><span style='color:#00B050'>// scan all network
neighbors</span><br>
{<br>
&nbsp; cur = LINKTO( curl1 );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=Cdigo><span style='color:#00B050'>// get an object link to current
neighbor</span><br>
&nbsp; v[2] = VS( cur, &quot;Income&quot; );&nbsp;&nbsp;&nbsp; </span><span
class=Cdigo><span style='color:#00B050'>// get neighbor income</span><br>
&nbsp; v[1] +=
v[2];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><span style='color:#00B050'>// accumulate income</span><br>
}</span></p>

<p><span class=Cdigo>V[3] =
STAT_NODE;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=Cdigo><span style='color:#00B050'>// get current node total outgoing
links</span><br>
v[4] = v[1] /
v[3];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><span style='color:#00B050'>// calculate the average
income</span><br>
…</span></p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_Mathematical_and_statistical"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name=Math></a>Mathematical and statistical functions</h1>

<p>Besides the LSD specific Macros modelers can use one of the following
mathematical and statistical functions. </p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>abs( <i>a </i>)</b>:
the absolute value of <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>min( <i>a</i>,
<i>b </i>)</b>: the minimum between <i>a</i> and <i>b</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>max( <i>a</i>,
<i>b</i> )</b>: the maximum between <i>a</i> and <i>b</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>round( <i>a</i>
)</b>: the integer closest to the real value <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>sqrt( <i>a</i>
), cbrt( <i>a</i> )</b>: the square or cubic root of <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>pow( <i>a</i>,
<i>b</i> )</b>: the power b of <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>exp( <i>a</i>
)</b>: the exponential of <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>log( <i>a</i>
), log10( <i>a</i> )</b>: the natural or base 10 log of <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>fact( <i>a</i>
)</b>: the factorial of <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>tgamma( <i>a</i>
), lgamma( <i>a</i> )</b>: the gamma or the log-gamma function of <i>a</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>sin( <i>a</i>
), cos( <i>a</i> ), tan( <i>a</i> ), asin( <i>b</i> ), acos( <i>b</i> ), atan( <i>b</i>
)</b>: the trigonometric functions (<i>a</i> in radians)</p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>pi</b>: the
number &#960;</p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>is_finite( <i>a</i>
), is_inf( <i>a</i> ), is_nan( <i>a</i> )</b>: logical tests to check <i>a</i>
for being finite, infinite or NaN (return 0 if false)</p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>uniform( <i>min</i>,
<i>max</i> ): </b>a random uniform value in the interval [<i>min</i>, <i>max</i>]</p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>uniform_int(
<i>min</i>, <i>max</i> )</b>: a random integer value in the interval [<i>min</i>,
<i>max</i>] with uniform probability</p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>norm( <i>mean</i>,
<i>dev</i> )</b>: a random value drawn from a normal distribution with mean <i>mean</i>
and deviation <i>dev</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>lnorm( <i>mean</i>,
<i>dev</i> )</b>: a random value drawn from a lognormal distribution with mean <i>mean</i>
and deviation <i>dev</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>poisson( <i>mean</i>
)</b>: a random draw from a Poisson distribution with mean <i>mean</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>gamma( <i>mean</i>
)</b>: a random draw from a gamma distribution with mean <i>mean </i>(<i>&#946;
</i>= 1)</p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>beta( <i>alpha</i>,
<i>beta</i> ):</b> a random draw from a beta distribution with parameters <i>alpha</i>
and <i>beta</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>alapl( <i>med</i>,
<i>alpha1</i>, <i>alpha2</i> )</b>: a random draw from an asymmetric Laplace
distribution with parameters <i>alpha1</i> and <i>alpha2</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>unifcdf( <i>min</i>,
<i>max</i>, <i>x</i> )</b>: the uniform cumulative distribution in the interval
[<i>min</i>, <i>max</i>] from minus infinity to <i>x</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>normcdf( <i>mean</i>,
<i>dev</i>, <i>x</i> )</b>: the normal cumulative distribution with mean <i>mean</i>
and deviation <i>dev</i> from minus infinity to <i>x</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>lnormcdf( <i>mean</i>,
<i>dev</i>, <i>x</i> )</b>: the lognormal cumulative distribution with mean <i>mean</i>
and deviation <i>dev</i> from minus infinity to <i>x</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>poissoncdf(
<i>mean</i>, <i>x</i> )</b>: the Poisson cumulative distribution with mean <i>mean</i>
from minus infinity to <i>x</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>gammacdf( <i>mean</i>,
<i>x</i> )</b>: the gamma cumulative distribution with mean <i>mean</i> from
minus infinity to <i>x</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>betacdf( <i>alpha</i>,
<i>beta</i>, <i>x</i> ):</b> the beta cumulative distribution with parameters <i>alpha</i>
and <i>beta</i> from minus infinity to <i>x</i></p>

<p class=MsoListParagraph style='margin-left:1.0cm;text-indent:-14.15pt'><span
style='font-family:Symbol'>·</span><span style='font-size:7.0pt;font-family:
"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>alaplcdf( <i>med</i>,
<i>alpha1</i>, <i>alpha2</i>, <i>x</i> )</b>: the cumulative asymmetric Laplace
distribution with parameters <i>alpha1</i> and <i>alpha2</i> from minus
infinity to <i>x</i></p>

<p class=MsoNormal>Other C++14 functions defined in <b>&lt;cmath&gt;</b> are
also available. Of course, it is always possible to declare new functions or
link any C++ library to the LSD model.</p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_Advanced_LSD_coding"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1>Advanced LSD coding </h1>

<p>The commands listed here provide special operations rarely necessary for
basic models. They normally concern only advanced modelers.</p>

<h2><a name="_ABORT"></a><a name=ABORT></a>ABORT</h2>

<p>This Macro instructs LSD to stop the simulation run at the end of the
current simulation step. When it is executed in one Equation, LSD is
dynamically reconfigured to assume that the last simulation time step is the
current one (time <span class=Cdigo><u><span style='color:blue'><a
href="#_V_CHEAT(_&quot;Lab&quot;,_fake_caller_1">T</a></span></u></span>). This
means that all equations still not evaluated during the current time step are
still evaluated before the simulation stops. All saved data is available for
the Analysis of Results. If multiple simulation runs are configured, LSD
execution will continue with the next run, if any.</p>

<h2><a name="_CONFIG_PATH"></a><a name="_CONFIG_PATH_1"></a><a name=CONFIG></a>CONFIG<br>
PATH</h2>

<p>These Macros return the current LSD model configuration name (<span
class=Cdigo>CONFIG</span>) and the corresponding model configuration directory
(folder) in the operating system storage (<span class=Cdigo>PATH</span>),
respectively, as C++ constant character arrays. Note that <span class=Cdigo>PATH</span>
does not end in a slash (“/”) character, so adding one when concatenating <span
class=Cdigo>PATH</span> and <span class=Cdigo>CONFIG</span> is compulsory, as
in the example:</p>

<p><span class=Cdigo>…<br>
char[500] filename;&nbsp;&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// allocate space for the file name character array
(string)</span><br>
sprint( filename, &quot;%s/%s&quot;, PATH, CONFIG );&nbsp; </span><span
class=Cdigo><span style='color:#00B050'>// concatenate with the &quot;/&quot;
between<br>
</span>SAV_LAT( filename );<br>
…</span></p>

<p>This information is usually used by the modeler for saving information to
the computer disk while computing the Equations code, as in <span class=Cdigo><u><span
style='color:blue'><a href="#_SAVE_LAT(_&quot;filename&quot;_)">SAVE_LAT(…)</a></span></u></span>,
<span class=Cdigo><u><span style='color:blue'><a
href="#_LOAD_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;_">SAVE_NET(…)</a></span></u></span>
or <span class=Cdigo><u><span style='color:blue'><a
href="#_SNAP_NET(_&quot;node_Lab&quot;,_&quot;filename&quot;_">SNAP_NET(…)</a></span></u></span>.</p>

<h2><a name="_CURRENT_1"></a><a name="_V_CHEAT(&quot;Lab&quot;,_fake_caller),_VL_CHE"></a><a
name="_V_CHEAT(_&quot;Lab&quot;,_fake_caller"></a><a name=CURRENT></a>CURRENT</h2>

<p>This keyword contains the current value of the Variable under computation,
irrespective of the time of last computation of the Variable. It is the same
value that can be obtained with the Macro <span class=Cdigo><u><span
style='color:blue'><a href="#_V(&quot;Lab&quot;),_VL(&quot;Lab&quot;,_lag),">VL(
&quot;Lab&quot;, 1 )</a></span></u></span>, used in the Equation for <i>Lab</i>.
The result of the Equation will be reported in <span class=Cdigo>CURRENT</span>
at the subsequent time step. </p>

<p><span class=Cdigo>EQUATION( &quot;Up&quot; ) <br>
</span><span class=Cdigo><span style='color:#00B050'>/* <br>
This function returns a progressive value each time it is requested <br>
*/ </span></span></p>

<p><span class=Cdigo>v[0] = CURRENT;<br>
v[1] = VL( &quot;Up&quot;, 1 );</span></p>

<p><span class=Cdigo><span style='color:#00B050'>/* v[0] and v[1] are identical
*/</span><br>
RESULT( v[0] ) </span></p>

<p>This can be used even when a Variable is not defined to store past values,
since it accesses directly the LSD memory location storing the variables’
values.</p>

<h2><a name="_DEBUG_/_DEBUG_AT("></a><a name="_DEBUG_DEBUG_AT(_time"></a><a
name=DEBUG></a><tt><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>DEBUG</span></tt><br>
<tt><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>DEBUG_AT( <i>time</i>
)</span></tt></h2>

<p>Placing the Macro <span class=Cdigo>DEBUG</span> before the first Equation's
code (but after <span class=Cdigo><a href="#MODELBEGIN">MODELBEGIN</a></span>)
the simulation run will write a file called &quot;log.log&quot; where all the
Variables' Equations computed are listed with some relevant information. Of
course, this slows down sensibly the simulation, but it may be useful to find
errors, since the last Variable computed before a crash will be the likely faulty
one. Optionally, the log file can be created only after a certain time step in
the simulation with the command <span class=Cdigo>DEBUG_AT( t<sub>ini</sub> )</span>.</p>

<p>These Macros placed in the Equation file to help spotting Equations that may
be causing problems (“bugs”) in the simulation. It serves to tell the modeler
the exact order Equations are being computed by LSD. <span class=Cdigo>DEBUG/DEBUG_AT(…)</span>
must be inserted before the first Equation's code and after <span class=Cdigo><a
href="#MODELBEGIN">MODELBEGIN</a></span>. They cause the system to enter into a
special (and slower) running mode, optionally only at time <tt><i><span
style='font-size:11.0pt;font-family:"Arial","sans-serif"'>time</span></i></tt>,
and to remain so onward. Any time a Variable needs to be computed, LSD adds to
a file called <span class=Cdigo>log.txt</span><tt><span style='font-size:10.0pt;
font-family:"Arial","sans-serif"'> (in the models directory) </span></tt>the
name of the Variable, its value and the time step of computations. So, for
example, if an Equation file begins with the code: </p>

<p><span class=Cdigo>#include &quot;fun_head_fast.h&quot; </span></p>

<p><span class=Cdigo>MODELBEGIN </span></p>

<p><span class=Cdigo>DEBUG_AT( 20 ) <br>
… </span></p>

<p>then we will find in the<tt><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>
</span></tt><span class=Cdigo>log.txt</span> file all the variables in their
respective computation order from time step 20 to the end of the simulation.</p>

<h2><a name="DEFAULT_RESULT"></a><a name="_DEFAULT_RESULT(_value_)"></a>DEFAULT_RESULT(
<i>value</i> )</h2>

<p>Defines the default result for an <span class=Cdigo><a href="#_EQUATION">EQUATION(…)</a></span>/<span
class=Cdigo><a href="#_FUNCTION">FUNCTION(…)</a></span> which fails in
producing a valid <span class=Cdigo><a href="#RESULT">RESULT(…)</a></span>/<span
class=Cdigo><a href="#_END_EQUATION(_value_)">END_EQUATION(…)</a></span> to <i>value</i>.
The standard default value is 0 (zero).</p>

<h2><a name="END_EQUATION"></a><a name="_END_EQUATION(_value_)"></a>END_EQUATION(
<i>value</i> )</h2>

<p>Immediately ends an <span class=Cdigo><a href="#_EQUATION">EQUATION(…)</a></span>/<span
class=Cdigo><a href="#_FUNCTION">FUNCTION(…)</a></span> execution, assigning <i>value</i>
as the computed value for the current time step. </p>

<h2><a name="_PARAMETER"></a><a name="_FAST_OBSERVE"></a><a name=FAST></a>FAST<br>
FAST_FULL<br>
OBSERVE</h2>

<p>These Macros dynamically change the simulation execution mode, as if the
modeler had clicked on the respective buttons of LSD Log window while a
simulation is running. <span class=Cdigo>OBSERVE</span> mode is the default
when one simulation starts to run and it creates a run-time plot window (if
there is at least one Variable set to show during run time) and show extra
(verbose) information in LSD Log window during the run. <span class=Cdigo>FAST</span>
mode prevents the update of the run-time plot window (and hide it) as well
discards the presentation of most of the non-critical information in LSD Log
window (or log file), effectively speeding up the simulation execution. <span
class=Cdigo>FAST_FULL</span> further prevents the presentation of any non-error
message.</p>

<p class=MsoNormal>The <span class=Cdigo>FAST</span> and <span class=Cdigo>FAST_FULL</span>
modes reduce the information available to LSD when an error occurs. It is
recommended to turn it off during the debugging of Equations’ code.</p>

<h2><a name="_LOG(_&quot;Comment&quot;_)"></a><a name=LOG></a><span>LOG(
&quot;<i>Comment</i>&quot; )<br>
LOG( &quot;<i>format</i>&quot;, <i>var1</i>, <i>var2</i>, … )<br>
</span>PLOG( &quot;<i>Comment</i>&quot; )<br>
PLOG( &quot;<i>format</i>&quot;, <i>var1</i>, <i>var2</i>, … )</h2>

<p>The <span class=Cdigo>LOG(…) </span>Macro family produces a message in the
LSD Log window. If a regular string <i>Comment</i> is provided, it is presented
“as is”. However, if a specially formatted string <i>format</i> is provided,
then the modeler can also present the numerical contents of C++ variables (like
temporary storage <span class=Cdigo><u><span style='color:blue'><a
href="#_CURRENT">v[…]</a></span></u></span>) and other data. <i>format</i> is
defined exactly like for the standard C/C++ <span class=Cdigo>printf(…)</span>
function and is very flexible in terms of what can be presented and how, please
see the C/C++ standard library documentation.</p>

<p>Any message submitted with <span class=Cdigo>LOG(…)</span> is only presented
while LSD simulation is running in <span class=Cdigo><u><span style='color:
blue'><a href="#_PARAMETER">OBSERVE(…)</a></span></u></span> mode. Use <span
class=Cdigo>PLOG(…)</span> (as “priority” log) to be able to present messages
that are required in any running mode (<span class=Cdigo><u><span
style='color:blue'><a href="#_PARAMETER">OBSERVE(…)</a></span></u></span> or <span
class=Cdigo><u><span style='color:blue'><a href="#_PARAMETER">FAST(…)</a></span></u></span>).</p>

<h2><a name="_NO_NAN_USE_NAN_1"></a><a name="NO_NAN"></a>NO_NAN<br>
USE_NAN </h2>

<p>Numeric values in LSD are always stored as IEEE 754 double-precision binary
floating-point format. This format, beyond the representation of decimal
numbers between 10<sup>-308</sup> and 10<sup>+308</sup> with 16 significant
digits precision, allows for special representations of the non-numeric values
positive infinite, negative infinite and NAN (not a number). By default, LSD
does not allow Variables and Parameters to be set to any of the special
floating-point representations, stopping showing an error if any such values
are attributed to a Variable by an Equation.</p>

<p>However, in some special situations the modeler may want to use the value
NAN to indicate that the Variable’s value is not a number (or, generically, not
available) for some specific time steps, to prevent biases in statistical
calculations for instance. The Macro <span class=Cdigo>USE_NAN</span> instructs
LSD to accept Variables to be set to NAN (but still forbidding infinite
values), while <span class=Cdigo>NO_NAN</span> reverts it to the default
behavior. In any case, LSD will treat NAN’s in results data as “not available”
for plot generation, statistics calculation and data export. </p>

<h2><a name="_PARAMETER_1"></a><a name=PARAMETER></a>PARAMETER</h2>

<p>This Macro within an Equation transforms the corresponding Variable in a
Parameter, so that the Equation is never computed again during the simulation
run. Normally, this is used in Equations meant to initialize a model at the
very first time step, and does not need to be computed during a simulation run.
</p>

<h2><a name="_RECALC(_&quot;Lab&quot;_)"></a><a name="_RECALC(_&quot;Lab&quot;_),"></a><a
name=RECALC></a>RECALC( &quot;<i>Lab</i>&quot; ), RECALCS( <i>obj</i>, &quot;<i>Lab</i>&quot;
)</h2>

<p>Mark the Variable named <i>Lab</i> contained in the Object currently under
computation as not calculated in the current time, forcing recalculation if it
has been already calculated. If the Variable has not been calculated yet or if <i>Lab</i>
is a Parameter, <span class=Cdigo>RECALC(…)</span> does nothing. If <a
href="#_Temporary_Object's_pointers:">Object pointer</a> <i>obj</i> is
supplied, Variable labelled <i>Lab</i> is supposed to be located in it.</p>

<h2><a name="_RND_GENERATOR(_type_)"></a><a name="RND_GENERATOR"></a>RND_GENERATOR(
<i>type</i> )</h2>

<p>This Macro selects the pseudorandom number generator algorithm to be used
when extract draws or producing pseudorandom numbers. The following <i>type</i>
options are available:</p>

<p class=MsoNormal style='margin-left:14.2pt'><b>1</b>. Park-Miller in (0,1)<br>
<b>2</b>. Mersenne-Twister in (0,1) (default option)<br>
<b>3</b>. Mersenne-Twister in [0,1]<br>
<b>4</b>. Mersenne-Twister in [0,1)<br>
<b>5</b>. Mersenne-Twister with 53 bits resolution in [0,1)</p>

<h2><a name="_RND_SETSEED(_seed_)"></a><a name="_RND_SEED_RND_SETSEED(_seed"></a><a
name="RND_SEED"></a>RND_SEED<br>
RND_SETSEED( <i>seed</i> )</h2>

<p class=MsoNormal>Macros <span class=Cdigo>RND_SETSEED(…)</span> changes the
integer seed number used by the pseudorandom number generator to <i>seed</i>. <span
class=Cdigo>RND_SEED</span> reads the currently set integer seed number in
double precision format. </p>

<h2><a name="_SLEEP(_msecs_)"></a><a name=SLEEP></a>SLEEP( <i>msecs</i> )</h2>

<p>The Macro <span class=Cdigo>SLEEP(…)</span> pauses the simulation execution
for the number <i>msecs</i> of milliseconds (one millesimal or 1/1,000 of a
second). For instance, <span class=Cdigo>SLEEP( 1000 );</span> pauses the
simulation for one second. After this period elapses, the simulation continues
normally. <span class=Cdigo>SLEEP(…)</span> uses an efficient operating system
method to pause LSD, preventing CPU usage during this period, and so is
preferred to traditional do-nothing cycles/loops.</p>

<p>This Macro is normally used when LSD execution has to be slowed down to
allow the user realize the changes are going on, for example, when a lattice is
being updated.</p>

<h2><a name="_V_CHEAT(_&quot;Lab&quot;,_fake_caller_1"></a><a name="_T,_LAST_T"></a><a
name="_T_LAST_T"></a><a name=T></a>T<br>
LAST_T </h2>

<p>The Macro <span class=Cdigo>T</span> indicates the current time step of the
simulation. The Macro <span class=Cdigo>LAST_T</span> provides the configured
number of time steps before the simulation is stopped (or the last step) and is
constant throughout the simulation. Both Macros return positive integer numbers
properly formatted as double precision.</p>

<p>For example, the code below calculates the next time step to be run in the
simulation, considering also the possibility of the current time step be the
last time step in the simulation:</p>

<p><span class=Cdigo>…<br>
if( T &lt; LAST_T )<br>
&nbsp; v[9] = T + 1; <br>
… </span></p>

<h2><a name="_TSEARCH(_&quot;obj_Lab&quot;,_pos"></a><a name=TSEARCH></a>TSEARCH(
&quot;<i>obj_Lab</i>&quot;, <i>pos</i> ), TSEARCHS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;,
<i>pos</i> )<br>
INIT_TSEARCH( &quot;<i>obj_Lab</i>&quot; ), INIT_TSEARCHS( <i>obj</i>, &quot;<i>obj_Lab</i>&quot;
)<br>
INIT_TSEARCHT( &quot;<i>obj_Lab</i>&quot;, <i>num</i> ), INIT_TSEARCHTS( <i>obj</i>,
&quot;<i>obj_Lab</i>&quot;, <i>num</i> )</h2>

<p>Turbo searches Objects contained in the level immediately below the current
(<span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>) or the chosen (<i>obj</i>)
Object. Instead of searching for a name (like <span class=Cdigo><u><span
style='color:blue'><a href="#_SEARCH(_&quot;obj_Lab&quot;_),">SEARCH(…)</a></span></u></span>)
or a value (like <span class=Cdigo><u><span style='color:blue'><a
href="#_SEARCH_CND(_&quot;Lab&quot;,_value">SEARCH_CND(…)</a></span></u></span>),
<span class=Cdigo>TSEARCH(…)</span> family looks for the informed object
position (<i>pos</i>) in the brotherhood chain of Objects named <i>obj_Lab</i>.
A pointer to the Object in the <i>pos</i> position of the chain is returned. <i>pos</i>
can be set from 1 (first object in the chain) to the total number of objects in
the brotherhood. </p>

<p>Before the first usage of <span class=Cdigo>TSEARCH(…)</span>, a special
search data structure must be initialized by the modeler using one of the forms
of the <span class=Cdigo>INIT_TSEARCH(…)</span> Macro. If <span class=Cdigo>TSEARCH(…)</span>is
used before initialization, an error is produced and the simulation stops. If
the suffix “<span class=Cdigo>T</span>” initialization Macro version is
selected, the total number (<i>num</i>) of Objects in the chain has to be
informed. This speed up the initialization search procedure a little bit but
has no effect on the subsequent <span class=Cdigo>TSEARCH(…)</span>
performance.</p>

<p class=MsoNormal>The main benefit of the <span class=Cdigo>TSEARCH(…)</span>
family when compared to other search alternatives is its speed, usually several
times faster for longer chains of Objects. On the other hand, this family of
Macros requires that the object chain be previously sorted (so the Object
position is meaningful for the modeler) and the search algorithm be initialized
(so the search data structure exists and can be used).</p>

<h2><a name="_NO_NAN_USE_NAN"></a><a name="_V_CHEAT(_&quot;Lab&quot;,_fake_caller_2"></a><a
name="V_CHEAT"></a>V_CHEAT( &quot;<i>Lab</i>&quot;, <i>fake_caller</i> ),
V_CHEATS ( <i>obj</i>, &quot;<i>Lab</i>&quot;, <i>fake_caller</i> )<br>
V_CHEATL ( &quot;<i>Lab</i>&quot;, <i>lag</i>, <i>fake_caller</i> ), V_CHEATLS
( <i>obj</i>, &quot;<i>Lab</i>&quot;, <i>lag</i>, <i>fake_caller</i> )</h2>

<p>When the standard <span class=Cdigo><u><span style='color:blue'><a
href="#_CURRENT">V(…)</a></span></u></span> family requests the value of
Variable <i>Lab</i>, the executed Equation can access the Object containing the
caller Variable (Object <span class=Cdigo><u><span style='color:blue'>c</span></u></span>).
However, in some cases, mostly for reasons of efficiency, it may be useful to
&quot;cheat&quot; the requested Variable in believing that the Object is
something else. With <span class=Cdigo>V_CHEAT(…)</span> the modeler must
specify another Object (<tt><i><span style='font-size:10.0pt;font-family:"Arial","sans-serif"'>fake_caller</span></i></tt>)
that will appear in the called Variable as if it were the caller. </p>

<h2><a name="_ADDEXT(_class_),"></a><a name="_EXEC_EXT(_class,_ext,"></a><a
name="_EXEC_EXT(_class,_c_obj,"></a><a name="_CYCLE_EXT(_iter,_class,"></a><a
name="_V_EXT(_class,_ext"></a><a name="_P_EXT(_class_),"></a><a
name="_V_EXT(_class,_var"></a><a name="_DELETE_EXT(_class_),"></a><a
name=ADDEXT></a>ADDEXT( <i>class</i> ), ADDEXTS( <i>obj</i>, <i>class </i>)</h2>

<p>These Macros adds an arbitrary C++ data extension of type <i>class</i> to
the current LSD Object under computation, allocating memory space for it. If an
<a href="#_Temporary_Object's_pointers:">Object pointer</a> <i>obj</i> is
supplied, the data extension is added to this specific Object. The data
extension can be from a simple scalar variable to a fully defined C++ object
like a <span class=Cdigo>class</span> or a <span class=Cdigo>struct</span>.
Data extension allocation is automatically handled by LSD, being destroyed when
the host Object is deleted. Each LSD Object instance can have a single data
extension; adding an extension when one already exists automatically destroys
the previous one.</p>

<p>Data extensions allow adding to LSD Objects unrestricted data storage
capabilities, beyond the usual sets of Variables and Parameters. Indeed, data
extensions are conceptually closer to Parameters, as LSD does not try to update
its values along the simulation. The modeler is entirely responsible for the
initialization and the update of data in the data extension. However, data in
the extension is readily available for use in any LSD Variable Equation that
has access to the hosting Object using the Macro <span class=Cdigo><u><span
style='color:blue'><a href="#_P_EXT(_class_),_1">P_EXT(…)</a></span></u></span>
to acquire a pointer to the data structure.</p>

<p>In particular, if the data extension is a C++ <span class=Cdigo>class</span>
or <span class=Cdigo>struct</span>, the modeler can use some additional Macros,
like <span class=Cdigo><u><span style='color:blue'><a
href="#_V_EXT(_class,_var_1">V_EXT(…)</a></span></u></span> and <span
class=Cdigo><u><span style='color:blue'><a href="#_WRITE_EXT(_class,_ext,">WRITE_EXT(…)</a></span></u></span>
to directly read from and write to the extensions’ internal variables and
objects (if appropriate). Also, the extensions’ internal objects methods can be
directly executed using <span class=Cdigo><u><span style='color:blue'><a
href="#_EXEC_EXT(_class,_c_obj,_1">EXEC_EXT(…)</a></span></u></span>.</p>

<p>In the example below, firstly we define the required C++ extension types
before the <span class=Cdigo><u><span style='color:blue'><a href="#MODELBEGIN">MODELBEGIN</a></span></u></span>
line:</p>

<p><span class=Cdigo>#include &quot;fun_head_fast.h&quot;</span></p>

<p><span class=Cdigo>class ext_firm&nbsp;&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// this is simply a declaration, nothing is allocated
here</span><br>
{<br>
&nbsp; int num_params;<br>
&nbsp; vector &lt; int &gt; tech_params;&nbsp;&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// define an initially zero-length vector</span><br>
};</span></p>

<p><span class=Cdigo>MODELBEGIN<br>
…</span></p>

<p>In this case, our data extension is a C++ class named <i>ext_fin</i> which
contains two elements, an integer variable (<i>num_params</i>) and a C++
dynamic integer vector named <i>tech_params</i> (defined in C++ standard
library<b> </b><span class=Cdigo>&lt;vector&gt;</span>). Next, we add this
extension to all <i>Firm</i> LSD Objects by means of a LSD startup-type
Variable and reset the variable holding the size of the vector, run just once:</p>

<p><span class=Cdigo>EQUATION( &quot;Init&quot; )<br>
/*</span><span class=Cdigo><span style='color:#00B050'><br>
</span>Initialization code, run just once in the beginning of the simulation</span><span
class=Cdigo><span style='color:#00B050'><br>
</span>*/</span></p>

<p><span class=Cdigo>CYCLE( cur, &quot;Firm&quot; )<br>
{<br>
&nbsp; ADDEXTS( cur, ext_firm );&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// adds the extension to each Firm in the CYCLE</span><br>
&nbsp; WRITE_EXTS( cur, ext_firm, num_params, 0 );&nbsp; </span><span
class=Cdigo><span style='color:#00B050'>// set each Firm vector size to 0</span><br>
}</span></p>

<p><span class=Cdigo>PARAMETER;&nbsp;&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// turns the variable &quot;Init&quot; into a parameter
(run only once)</span></span></p>

<p><span class=Cdigo>RESULT( 1 )</span></p>

<p>Then, in an Equation of a <i>Firm</i>-level Variable, it is possible to
add/remove elements to the integer vector and read/change their values. In the
example below, we make sure the <i>tech_params</i> vector is correctly set
before using it to compute <i>Firm</i>’s productivity using an external library
function (not shown below). If format is not ok, rebuild the vector, by
clearing it and initializing the vector and the integer variable, before
calling the function:</p>

<p><span class=Cdigo>…<br>
</span><span class=Cdigo><span style='color:#00B050'>// refill the
Firm-specific vector if it has less than 3 parameters</span><br>
if ( V_EXT( ext_firm, num_params ) &lt; 3 )&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// get firm’s num_params and compare</span><br>
{<br>
&nbsp; EXEC_EXT( ext_firm, tech_params, clear );&nbsp;&nbsp;&nbsp; </span><span
class=Cdigo><span style='color:#00B050'>// clear the vector</span><br>
&nbsp; EXEC_EXT( ext_firm, tech_params, push_back, T ); </span><span
class=Cdigo><span style='color:#00B050'>// writes current time to 1st position</span></span></p>

<p><span class=Cdigo>&nbsp; </span><span class=Cdigo><span style='color:#00B050'>//
write 2 random integers between 1 and 100 in the 2nd and the 3rd positions</span><br>
&nbsp; EXEC_EXT( ext_firm, tech_params, push_back, ( int ) uniform_int( 1, 100
) ); <br>
&nbsp; EXEC_EXT( ext_firm, tech_params, push_back, ( int ) uniform_int( 1, 100
) );</span></p>

<p><span class=Cdigo>&nbsp; WRITE( ext_firm, num_params, 3
);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// set Firm’s num_params to 3</span><br>
}</span></p>

<p><span class=Cdigo><span style='color:#00B050'>// call an external library
function requiring a pointer to a integer vector </span><br>
v[1] = eval_prod( P_EXT( ext_firm ) );&nbsp;&nbsp;&nbsp; </span><span
class=Cdigo><span style='color:#00B050'>// evaluate Firm productivity based on
vector</span></span><span class=Cdigo><span style='color:windowtext'> <br>
</span>…</span></p>

<h2><a name="_CYCLE_EXT(_iter,_class,_1"></a><a name="CYCLE_EXT"></a>CYCLE_EXT(
<i>iter</i>, <i>class</i>, <i>c_obj</i> ), CYCLE_EXTS( <i>obj</i>, <i>iter</i>,
<i>class</i>, <i>c_obj</i> ) </h2>

<p>Cycles (loops) over the elements of a C++ object named <i>c_obj</i> within
an extension of type <i>class</i> (a <span class=Cdigo>class</span> or a <span
class=Cdigo>struct</span>, in this case) hosted in the current Object <span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span>, or in the Object pointed
by <i>obj</i>. Modeler has to supply <i>iter</i> , an existing iterator-type
variable to the C++ object <i>c_obj</i>. The iterator <i>iter</i> is updated
according the cycle moves over the elements of object <i>c_obj</i>. </p>

<p>If the target LSD Object has no data extension set previously by <span
class=Cdigo><u><span style='color:blue'><a href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span>,
<span class=Cdigo>CYCLE_EXT(…)</span> does nothing.</p>

<p>As an example, the code below builds on the example provided in <span
class=Cdigo><u><span style='color:blue'><a href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span>
and copies the values in the <i>Firm</i>’s <i>tech_params</i> vector, defined
in the <i>Firm</i> data extension of type <i>ext_firm</i> (a C++ <span
class=Cdigo>class</span>), to LSD temporary storage <span class=Cdigo><u><span
style='color:blue'><a href="#_CURRENT">v[…]</a></span></u></span>:</p>

<p><span class=Cdigo>…<br>
vector&lt; int &gt;::iterator iter;&nbsp;&nbsp;&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// create iterator to integer vector type</span><br>
i =
0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><span style='color:#00B050'>// index for v[…] array</span><br>
CYCLE_EXT( iter, ext_firm, tech_params )&nbsp; </span><span class=Cdigo><span
style='color:#00B050'>// loop over all vector elements</span><br>
{<br>
&nbsp; v[i] =
*iter;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><span style='color:#00B050'>// get current vector
element</span><br>
&nbsp;
i++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=Cdigo><span style='color:#00B050'>// update v[…] index (iter
is updated by CYCLE_EXT)</span><br>
}<br>
…</span></p>

<h2><a name="_DELETE_EXT(_class_),_1"></a><a name="DELETE_EXT"></a>DELETE_EXT( <i>class</i>
), DELETE_EXTS( <i>obj</i>, <i>class</i> ) </h2>

<p>The Macros delete the C++ data extension of type <i>class</i> in the LSD
Object <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span> under
computation, or in the Object pointed by <i>obj</i>, if present, deallocating
any allocated memory space. If the target LSD Object has no data extension set
previously by <span class=Cdigo><u><span style='color:blue'><a
href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span>, <span class=Cdigo>DELETE_EXT(…)</span>
does nothing.</p>

<h2><a name="_EXEC_EXT(_class,_c_obj,_1"></a><a name="EXEC_EXT"></a>EXEC_EXT( <i>class</i>,
<i>c_obj</i>, <i>meth</i>, … ), V_EXTS( <i>obj</i>, <i>class</i>, <i>c_obj</i>,
<i>meth</i>, … ) </h2>

<p>Executes method (function) <i>meth</i> defined by a C++ object named <i>c_obj</i>
within an extension of type <i>class</i> (a <span class=Cdigo>class</span> or a
<span class=Cdigo>struct</span>, in this case) hosted in the current Object <span
class=Cdigo><a href="#_Parent_Object:_p">p</a></span>, or in the Object pointed
by <i>obj</i>. If method <i>meth</i> requires arguments, they should be also
included in <span class=Cdigo>EXEC_EXT(…)</span> call after the regular
elements. If the method returns a value, the Macro also returns it. </p>

<p>If the target LSD Object has no data extension set previously by <span
class=Cdigo><u><span style='color:blue'><a href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span>,
<span class=Cdigo>EXEC_EXT(…)</span> return value is undefined. If unsure if
the extension exists, it is advisable to check it before executing <span
class=Cdigo>EXEC_EXT(…)</span>, testing for a non-<span class=Cdigo>NULL</span>
<span class=Cdigo><u><span style='color:blue'><a href="#_P_EXT(_class_),_1">P_EXT(…)</a></span></u></span>
return. If the extension is not a C++ <span class=Cdigo>class</span> or <span
class=Cdigo>struct</span>, or the named <i>c_obj</i> and <i>meth</i> do not
exist inside it or have an incompatible type, a compiler error message is
thrown.</p>

<p>See <span class=Cdigo><u><span style='color:blue'><a
href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span> for more details on
C++ data extensions and an example. </p>

<h2><a name="_P_EXT(_class_),_1"></a><a name="P_EXT"></a>P_EXT( <i>class</i> ),
P_EXTS( <i>obj</i>, <i>class</i> ) </h2>

<p>The Macros return a pointer of type <i>class</i> to the C++ data extension
in the LSD Object <span class=Cdigo><a href="#_Parent_Object:_p">p</a></span>
under computation, or in the Object pointed by <i>obj</i>, if present. If the
target LSD Object has no data extension set previously by <span class=Cdigo><u><span
style='color:blue'><a href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span>,
they return <span class=Cdigo>NULL</span>.</p>

<p>See <span class=Cdigo><u><span style='color:blue'><a
href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span> for more details on
C++ data extensions and an example. </p>

<h2><a name="_V_EXT(_class,_var_1"></a><a name="V_EXT"></a>V_EXT( <i>class</i>,
<i>var</i> ), V_EXTS( <i>obj</i>, <i>class</i>, <i>var</i> ) </h2>

<p>Read the contents of a C++ variable named <i>var</i> contained within an
extension of type <i>class</i> (a C++ <span class=Cdigo>class</span> or <span
class=Cdigo>struct</span>) from the current Object <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>, or from the Object pointed by <i>obj</i>.
The Macros return value can be assigned to any existing C++ variable of the
same type. </p>

<p>If the target LSD Object has no data extension set previously by <span
class=Cdigo><u><span style='color:blue'><a href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span>,
<span class=Cdigo>V_EXT(…)</span> return value is undefined. If unsure if the
extension exists or not, it is advisable to check it before calling <span
class=Cdigo>V_EXT(…)</span>, testing for a non-<span class=Cdigo>NULL</span> <span
class=Cdigo><u><span style='color:blue'><a href="#_P_EXT(_class_),_1">P_EXT(…)</a></span></u></span>
return. If the extension is not a C++ <span class=Cdigo>class</span> or <span
class=Cdigo>struct</span>, or the named <i>var</i> does not exist inside it or
has a type incompatible, a compiler error message is thrown.</p>

<p>See <span class=Cdigo><u><span style='color:blue'><a
href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span> for more details on
C++ data extensions and an example. </p>

<h2><a name="_WRITE_EXT(_class,_ext,"></a><a name="_WRITE_EXT(_class,_var,"></a><a
name="WRITE_EXT"></a>WRITE_EXT( <i>class</i>, <i>var</i>, <i>value</i> ),
V_EXTS( <i>obj</i>, <i>class</i>, <i>var</i>, <i>value</i> ) </h2>

<p>Write <i>value</i> to the contents of a C++ variable named <i>var</i>
contained within an extension of type <i>class</i> (a C++ <span class=Cdigo>class</span>
or <span class=Cdigo>struct</span>) from the current Object <span class=Cdigo><a
href="#_Parent_Object:_p">p</a></span>, or from the Object pointed by <i>obj</i>.
<i>value </i>must have the same C++ type as the target <i>var</i>. </p>

<p>If the target LSD Object has no data extension set previously by <span
class=Cdigo><u><span style='color:blue'><a href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span>,
<span class=Cdigo>WRITE_EXT(…)</span> do nothing. If the extension is not a C++
<span class=Cdigo>class</span> or <span class=Cdigo>struct</span>, or the named
<i>var</i> does not exist inside it or has a type incompatible with <i>value</i>,
a compiler error message is thrown.</p>

<p>See <span class=Cdigo><u><span style='color:blue'><a
href="#_ADDEXT(_class_),">ADDEXT(…)</a></span></u></span> for more details on
C++ data extensions and an example. </p>

<h2><a name="close_sim"></a><span class=Ttulo2Char>close_sim( )</span></h2>

<p>At the end of each simulation run modelers can execute some specific code.
Typically, this is used to free some memory explicitly allocated during the
simulation run (using <span class=Cdigo>new</span>, <span class=Cdigo>malloc</span>
etc.). The C++ void function <span class=Cdigo>close_sim( )</span> should be
located at the end of the Equation file. By default this function does nothing
as it has an empty body (<span class=Cdigo>{…}</span>), but has to be declared
once. </p>

<h2><a name=hook></a>obj-&gt;hook</h2>

<p class=MsoNormal>Any object pointed by <i>obj </i>in a LSD model contains a
special field called <span class=Cdigo>hook</span>. This field is a pointer to
another object, like the other pointers <span class=Cdigo><u><span
style='color:blue'><a href="#_Object’s_relatives:_up,">up</a></span></u></span>
and <span class=Cdigo><u><span style='color:blue'><a
href="#_Object’s_relatives:_up,">next</a></span></u></span> that allow to move
from one object&nbsp; to another in the model: the containing parent object,
the first contained object, then next object, under the same parent. The
difference is that <span class=Cdigo>hook</span> is never used by the system,
and is available to the modelers for special purposes. Typically, it serves to
speed up the access of a frequently requested object.<br>
<br>
For example, suppose you have a model where the Object <i>Consumer</i> stores
in the Parameter <i>IdUsed</i> the ID of the Object product currently used.
Moreover, suppose that the products can break at each time step with a
probability contained in the Object <i>Firm</i>. The Equation of the <i>Consumer</i>
to check if the product breaks is the following:</p>

<p class=MsoNormal><span class=Cdigo>EQUATION( &quot;IdUsed&quot; )<br>
</span><span class=Cdigo><span style='color:#00B050'>/*<br>
Id of the product used by the consumer.<br>
Look whether the product breaks down or not. In the first case choose a new
product.<br>
*/</span></span></p>

<p class=MsoNormal><span class=Cdigo>v[0] = VL( &quot;IdUsed&quot;, 1 ); </span><span
class=Cdigo><span style='color:#00B050'>// product used by the consumer</span><br>
cur = SEARCH_CND( &quot;IdFirm&quot;, v[0] ); </span><span class=Cdigo><span
style='color:#00B050'>// find the object with IdFirm equal to my IdUsed</span><br>
v[2] = VS( cur, &quot;BD&quot; ); </span><span class=Cdigo><span
style='color:#00B050'>// read the probability of breaking the product</span><br>
if ( RND &lt; v[2] )<br>
{ </span><span class=Cdigo><span style='color:#00B050'>// product broken</span>
<br>
&nbsp; cur1 = RNDDRAW_FAIRS( cur-&gt;up, &quot;Firm&quot; ); </span><span
class=Cdigo><span style='color:#00B050'>// choose a new firm from the father of
the former firm</span><br>
&nbsp; v[1] = VS( cur1, &quot;IdFirm&quot; ); <br>
}<br>
else<br>
&nbsp; v[1] = v[0]; </span><span class=Cdigo><span style='color:#00B050'>//
product not broken, used the same product as before</span><br>
RESULT( v[1] )</span></p>

<p class=MsoNormal>This Equation can slow down the simulation in case it
contains thousands of <i>Firms</i> and of <i>Consumers</i>, since the system
has to scan many <i>Firm</i>’s to find the one required by the <i>Consumer</i>.
The same code can be written as follows:</p>

<p class=MsoNormal><span class=Cdigo>EQUATION( &quot;IdUsed&quot; )<br>
</span><span class=Cdigo><span style='color:#00B050'>/*<br>
Id of the product used by the consumer.<br>
Look whether the product breaks down or not. In the first case choose a new
product.<br>
p-&gt;hook is the consumers' free pointer containing the firm used by the
consumer.<br>
*/</span></span></p>

<p class=MsoNormal><span class=Cdigo>v[2] = VS( p-&gt;hook, &quot;BD&quot; ); </span><span
class=Cdigo><span style='color:#00B050'>// read the probability of breaking the
product</span><br>
if ( RND &lt; v[2] )<br>
{ //product broken <br>
&nbsp; cur1 = RNDDRAW_FAIRS( cur-&gt;up, &quot;Firm&quot; ); </span><span
class=Cdigo><span style='color:#00B050'>// choose a new firm from the father of
the former firm</span><br>
&nbsp; p-&gt;hook = cur1;<br>
&nbsp; v[1] = VS( cur1, &quot;IdFirm&quot; ); <br>
}<br>
else<br>
&nbsp;&nbsp;v[1] = v[0]; </span><span class=Cdigo><span style='color:#00B050'>//
product not broken, used the same product as before</span><br>
RESULT( v[1] )</span></p>

<p class=MsoNormal>The code is faster because the Equation does not need to
scan all <i>Firm</i>’s to find the desired one.</p>

<p class=MsoNormal>Beware that the modeler must ensure that the <span
class=Cdigo>hook</span> is always correctly assigned. In the example, you need
to consider that at the very first time step the <span class=Cdigo>hook</span>
is not assigned. At the start of a simulation run all the <span class=Cdigo>hook</span>’s
are set to NULL. Therefore, you may change the code as follows:</p>

<p class=MsoNormal><span class=Cdigo>EQUATION( &quot;IdUsed&quot; )<br>
</span><span class=Cdigo><span style='color:#00B050'>/*<br>
Id of the product used by the consumer.<br>
Look whether the product breaks down or not. In teh first case choose a new
product.<br>
p-&gt;hook is teh consumers' free pointer containing the firm used by the
consumer.<br>
*/<br>
</span>if ( p-&gt;hook == NULL )<br>
{&nbsp; </span><span class=Cdigo><span style='color:#00B050'>// executed the
very first time step, when hook is not assigned</span><br>
&nbsp;&nbsp; v[0] = VL( &quot;IdUsed&quot;, 1 ); </span><span class=Cdigo><span
style='color:#00B050'>// product used by the consumer</span><br>
&nbsp;&nbsp;&nbsp;cur = SEARCH_CND( &quot;IdFirm&quot;, v[0] ); </span><span
class=Cdigo><span style='color:#00B050'>// find the object with IdFirm equal to
my IdUsed</span><br>
&nbsp;&nbsp; v[2] = VS( cur, &quot;BD&quot; ); </span><span class=Cdigo><span
style='color:#00B050'>// read the probability of breaking the product</span><br>
&nbsp;&nbsp; p-&gt;hook = cur;<br>
}<br>
else<br>
&nbsp;&nbsp; v[2] = VS( p-&gt;hook, &quot;BD&quot; ); </span><span class=Cdigo><span
style='color:#00B050'>// read the probability of breaking the product</span><br>
<br>
if ( RND &lt; v[2] )<br>
{&nbsp; </span><span class=Cdigo><span style='color:#00B050'>// product broken</span>
<br>
&nbsp;&nbsp; cur1 = RNDDRAW_FAIRS( cur-&gt;up, &quot;Firm&quot; ); </span><span
class=Cdigo><span style='color:#00B050'>// choose a new firm from the father of
the former firm</span><br>
&nbsp;&nbsp; p-&gt;hook = cur1;<br>
&nbsp;&nbsp; v[1] = VS( cur1, &quot;IdFirm&quot; ); <br>
}<br>
else<br>
&nbsp; &nbsp;v[1] = v[0]; </span><span class=Cdigo><span style='color:#00B050'>//
product not broken, used the same product as before</span><br>
RESULT( v[1] )</span></p>

<div class=MsoNormal align=center style='margin:0cm;margin-bottom:.0001pt;
text-align:center'><a name="_Basic_C++_coding"></a>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name=C></a>Basic C++ coding </h1>

<p>LSD modelers do not need to fully write programs in C++. They can just write
basic code to compute the values of Variables. LSD Macros and functions are
available to allow the reading of model’s values or to modify them. The
elaboration of the Variables' Equation can use any legal C++ element or
construction. Here we present some basic (and frequently used) commands.
Remember that the code to compute a Variable's value is executed sequentially
inside an <span class=Cdigo><u><span style='color:blue'><a href="#_EQUATION">EQUATION(…)</a></span></u></span>
block when the system requires that Variable to be updated. At the end of the
Equation's computation the system assign the value informed in <span
class=Cdigo><a href="#RESULT">RESULT(…)</a></span> to the Variable and then
moves to compute another Variable.</p>

<p>The Equation code is composed by lines of commands that computer generally
executes sequentially, moving to the next line when the previous one has been
completed. Any line of code must respect the C++ syntax by terminating with a
semi-colon ''<span class=Cdigo>;</span>'', unless the line is a LSD or C++
command operating on a block of code (like <span class=Cdigo><a
href="#_EQUATION">EQUATION(…)</a></span>or <span class=Cdigo><a
href="#_Condition:_if_...">if(…)</a></span>).</p>

<h2>Comments</h2>

<p class=MsoNormal>The code can include comments, that is, text that is ignored
by the compiler and serves to describe the code to readers. Comments in C++
come in two forms:</p>

<p class=MsoNormal><span class=Cdigo><span style='color:#00B050'>/*<br>
&nbsp;This is a multiline comment, continuing until<br>
&nbsp;a sequence &quot;star slash&quot; is encountered<br>
*/<br>
</span></span><br>
<span class=Cdigo><span style='color:#00B050'>// this is a single line comment,<br>
// terminating at the end of the line</span></span></p>

<p class=MsoNormal>Also, white space/blank characters (like spaces, tabs, new
lines etc.) are ignored by the C++ compiler. The modeler is free to use them to
organize the spacing and the organization of the code to its preference. Some
general style rules, despite not require, are still recommended to keep the
code more easily readable (at least by others).</p>

<h2>Assignments, arithmetic operations and increments</h2>

<p class=MsoNormal>If <i>a</i> is a (C++) variable, then the programmer can
assign a value to it with the command “<span class=Cdigo>=</span>”:</p>

<p class=MsoNormal><span class=Cdigo>a = 4.3;</span></p>

<p class=MsoNormal>Any assignment (and most C++ commands) must be terminated
with a semi-colon “<span class=Cdigo>;</span>”.</p>

<p class=MsoNormal>It is also possible to assign values from other variables,
and use the standard mathematical operations, using the parentheses to group
relevant priorities:</p>

<p class=MsoNormal><span class=Cdigo>a = b + 3 – d / (e + g) * (h + i);</span></p>

<p class=MsoNormal>Less obviously, it is also possible to use the same variable
on both sides of the assignment:</p>

<p class=MsoNormal><span class=Cdigo>a = a + 32;</span></p>

<p class=MsoNormal>The above line assigns <i>a</i> with its previous value
increased of 32. Therefore, if <i>a</i> has the value of, say, 5, after the
above line it is assigned the value of 37.</p>

<p class=MsoNormal>These commands incrementing the value of a variable are so
common that they have also a short way to express them. For example, the
command <span class=Cdigo>a = a + 32;</span> can be expressed also with the
command<span class=Cdigo> a += 32;</span><span class=Cdigo><span
style='font-family:"Arial","sans-serif";color:windowtext'>,</span></span>
saving the expression of a in the left part of the assignment. This short
expression can even be used for the other arithmetical operations:</p>

<p class=MsoNormal><span class=Cdigo>a = a + 32;</span><span class=Cdigo><span
style='font-family:"Arial","sans-serif"'> </span></span><span class=Cdigo><span
style='font-family:"Arial","sans-serif";color:windowtext'>is equivalent to</span></span><span
class=Cdigo><span style='font-family:"Arial","sans-serif"'> </span>a += 32; </span><span
class=Cdigo><span style='font-family:"Arial","sans-serif";color:windowtext'><br>
</span>a = a / 32;</span><span class=Cdigo><span style='font-family:"Arial","sans-serif";
color:windowtext'> is equivalent to</span></span><span class=Cdigo><span
style='font-family:"Arial","sans-serif"'> </span>a /= 32;</span><span
class=Cdigo><span style='font-family:"Arial","sans-serif"'> </span></span><span
class=Cdigo><span style='font-family:"Arial","sans-serif";color:windowtext'><br>
</span>a = a * 32;</span><span class=Cdigo><span style='font-family:"Arial","sans-serif"'>
</span></span><span class=Cdigo><span style='font-family:"Arial","sans-serif";
color:windowtext'>is equivalent to</span></span><span class=Cdigo><span
style='font-family:"Arial","sans-serif"'> </span>a *= 32;</span><span
class=Cdigo><span style='font-family:"Arial","sans-serif";color:windowtext'><br>
</span>a = a - 32;</span><span class=Cdigo><span style='font-family:"Arial","sans-serif"'>
</span></span><span class=Cdigo><span style='font-family:"Arial","sans-serif";
color:windowtext'>is equivalent to</span></span><span class=Cdigo><span
style='font-family:"Arial","sans-serif"'> </span>a -= 32;</span></p>

<p class=MsoNormal>A C++ peculiar command (<span class=Cdigo>++</span>) allows
both to increase by 1 a variable and to use it as an assignment. That is, <span
class=Cdigo>a++</span> (or <span class=Cdigo>++a</span>) is equivalent to <span
class=Cdigo>a += 1</span>, which in turn is equivalent to <span class=Cdigo>a =
a + 1</span>.</p>

<p class=MsoNormal>The command <span class=Cdigo>++</span> (and its sister
command <span class=Cdigo>--</span>) may work differently depending on whether
it is used after or before a variable symbol in some situations. If it is used
after (<span class=Cdigo>a++</span>) the command firstly assign the current
value, and then increases it by 1. Instead, if <span class=Cdigo>++</span> is
used before a variable (<span class=Cdigo>++a</span>), it firstly increases its
value, and then assigns the result. For example:</p>

<p class=MsoNormal><span class=Cdigo>a = 3;<br>
b = a++;<br>
c = ++a;</span></p>

<p class=MsoNormal>At the end of the above list of commands, we will see that <i>a</i>
equals 5 (3 and two increments in the second and third line), <i>b</i> equals 3
(because <span class=Cdigo>b = a++;</span> firstly assigns the value of <i>a</i>
to <i>b</i>, and then increments <i>a</i>), and <i>c</i> equals 5, because <i>a</i>
is increased from 4 to 5 before being assigned to <i>c</i>.</p>

<p class=MsoNormal>Note the difference that exists between the equal sign “<span
class=Cdigo>=</span>” used as assignment (i.e., load the value on the left to
the symbol on the right), from the logical condition of identity (are the right
and left sides identical?). C++ uses two different symbols for the two
operations. In the following paragraph, on the <span class=Cdigo>if(…)</span>
conditional statement, we will see the symbol used for the logical identity.</p>

<h2><a name="_Condition:_if_..."></a>Condition: if ... then ... else ...</h2>

<p class=MsoNormal>As said before, lines of code are executed sequentially, but
the programmer can conditionally “jump” some blocks of code. A frequently used
statement is the conditional execution of different blocks of commands
depending on whether a condition is verified as true or not. The grammar of the
conditional command in C++ is:</p>

<p class=MsoNormal><span class=Cdigo>if ( condition )<br>
{<br>
</span><span class=Cdigo><span style='color:#00B050'>&nbsp; /*<br>
&nbsp;&nbsp; insert here any line you want to be executed<br>
&nbsp;&nbsp; if &quot;condition&quot; is true<br>
&nbsp; */<br>
</span>}<br>
else<br>
{<br>
</span><span class=Cdigo><span style='color:#00B050'>&nbsp; /*<br>
&nbsp;&nbsp; insert here any line you want to be executed<br>
&nbsp;&nbsp; if &quot;condition&quot; is false<br>
&nbsp; */<br>
</span>}</span></p>

<p class=MsoNormal>The curly brackets “<span class=Cdigo>{</span>” and “<span
class=Cdigo>}</span>” can be skipped if there is only one line of code
(terminated by a “<span class=Cdigo>;</span>”) to be executed conditionally.</p>

<p class=MsoNormal>The “<span class=Cdigo>if</span>” condition is normally
based on one of the following comparison operators, assuming <i>a</i> and <i>b</i>
to be two numerical values or variables containing numerical values:</p>

<ul type=disc>
 <li class=MsoNormal><b>Equal ( </b><span class=Cdigo><b>a == b</b></span> <b>)</b>:
     the condition is true of <i>a</i> equals <i>b</i></li>
 <li class=MsoNormal><b>Not equal ( </b><span class=Cdigo><b>a != b</b></span> <b>)</b>:
     the condition is true if <i>a</i> is not equal to <i>b</i></li>
 <li class=MsoNormal><b>Larger than ( </b><span class=Cdigo><b>a &gt; b</b></span>
     <b>)</b>: the condition is true of <i>a</i> is larger than <i>b</i></li>
 <li class=MsoNormal><b>Larger or equal ( </b><span class=Cdigo><b>a &gt;= b</b></span>
     <b>)</b>: the condition is true of <i>a</i> is larger than or equal to <i>b</i></li>
 <li class=MsoNormal><b>Less than ( </b><span class=Cdigo><b>a &lt; b</b></span>
     <b>)</b>: the condition is true of <i>a</i> is smaller than <i>b</i></li>
 <li class=MsoNormal><b>Less or equal</b> <b>( </b><span class=Cdigo><b>a &lt;=
     b</b></span> <b>)</b>: the condition is true of <i>a</i> is smaller than
     or equal to <i>b</i></li>
</ul>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'>The condition can be composed with the logical operators
connecting the comparisons:</p>

<ul type=disc>
 <li class=MsoNormal><b>Negation</b> <b>( </b><span class=Cdigo><b>!( condition
     )</b></span><b> )</b>: is true if <i>condition</i> is false, and vice
     versa.</li>
 <li class=MsoNormal><b>Logical “and”</b> <b>( </b><span class=Cdigo><b>&amp;&amp;</b></span><b>
     )</b>: given two conditions <span class=Cdigo>cond1</span> and <span
     class=Cdigo>cond2</span>, the composed condition <span class=Cdigo>( cond1
     &amp;&amp; cond2 )</span> is true only if both conditions are true.</li>
 <li class=MsoNormal><b>Logical “or”</b> <b>( </b><span class=Cdigo><b>||</b></span><b>
     )</b>: given two conditions <span class=Cdigo>cond1</span> and <span
     class=Cdigo>cond2</span>, the composed condition <span class=Cdigo>( cond1
     || cond2 )</span> is true if one or both conditions are true.</li>
</ul>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'>For example, the following code distinguishes three possible
situations:</p>

<ol start=1 type=1>
 <li class=MsoNormal><i>a</i> equals <i>b</i> and <i>c</i> does not equal <i>d</i></li>
 <li class=MsoNormal><i>a</i> equals <i>b</i> and <i>c</i> equals <i>d</i></li>
 <li class=MsoNormal><i>a</i> does not equal <i>b</i> (irrespective of <i>c</i>
     and <i>d</i>)</li>
</ol>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'><span class=Cdigo>if (a == b &amp;&amp; !(c == d))<br>
{<br>
</span><span class=Cdigo><span style='color:#00B050'>&nbsp; /*<br>
&nbsp;&nbsp; &quot;a&quot; equals &quot;b&quot; and &quot;c&quot; is different
from &quot;d&quot;<br>
&nbsp; */<br>
</span>}<br>
else<br>
{ </span><span class=Cdigo><span style='color:#00B050'>// if the process is
here, than one of the two conditions above is not true</span><br>
&nbsp; if (a == b)<br>
&nbsp;&nbsp;{<br>
</span><span class=Cdigo><span style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;
/*<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;c&quot; equals &quot;d&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp; */<br>
</span>&nbsp; }<br>
&nbsp; else<br>
&nbsp; {<br>
</span><span class=Cdigo><span style='color:#00B050'>&nbsp;&nbsp;&nbsp;&nbsp;
/*<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;a&quot; is not equal to &quot;b&quot;, but
&quot;c&quot; may or may not equal &quot;d&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp; */<br>
</span>&nbsp; }<br>
}</span></p>

<p class=MsoNormal>Conditions in C++ are evaluated to integer numbers, where
“0” (zero) means false, and any non-zero integer means true.</p>

<h2>Cycles: <span class=Cdigo>for(…)</span></h2>

<p class=MsoNormal>A frequently used command allows the repetition of a block
of code again and again, until a specific condition is satisfied. The grammar
for the cycle keyword <span class=Cdigo>for(…)</span> is:</p>

<p class=MsoNormal><span class=Cdigo>for ( INIT ; CONDITION ; ENDCYCLE )<br>
{<br>
</span><span class=Cdigo><span style='color:#00B050'>&nbsp; // Block of code of
the cycle<br>
&nbsp; // here there can be any command<br>
</span>}</span></p>

<p class=MsoNormal>followed by the block of code to be repeated contained
between curly brackets “<span class=Cdigo>{</span>” and “<span class=Cdigo>}</span>”.
As usual, the curly brackets can be skipped if there is only one line of code
(terminated by a “<span class=Cdigo>;</span>”) to be repeatedly executed.</p>

<p class=MsoNormal>When the execution of the code reaches a line with a <span
class=Cdigo>for(…)</span> instruction, the following operations are executed:</p>

<ol start=1 type=1>
 <li class=MsoNormal>Execute any command contained in <span class=Cdigo>INIT</span>;
     more than one command can be placed here separated by commas &quot;<span
     class=Cdigo>,</span>&quot;</li>
 <li class=MsoNormal>Control that <span class=Cdigo>CONDITION</span> is true</li>
 <li class=MsoNormal>If <span class=Cdigo>CONDITION</span> is not true exit the
     cycle and continue with the first line after the block of code following
     the <span class=Cdigo>for(…)</span> command</li>
 <li class=MsoNormal>If the <span class=Cdigo>CONDITION</span> is true, execute
     once the block of code </li>
 <li class=MsoNormal>Execute any command contained in <span class=Cdigo>ENDCYCLE</span>;
     more than one command can be placed here separated by commas &quot;<span
     class=Cdigo>,</span>&quot;</li>
 <li class=MsoNormal>Restart from operation 2 above.</li>
</ol>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'>Example: a cycle <span class=Cdigo>for(…)</span> to repeat a
block of code 5 times, setting an array variable from -2 to 2:</p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm'><span class=Cdigo>for ( i = -2; i &lt; 3; i++ )<br>
{<br>
</span><span class=Cdigo><span style='color:#00B050'>&nbsp; /*<br>
&nbsp;&nbsp; in the execution of these lines i<br>
&nbsp;&nbsp; assumes values -2, -1, 0, 1 and 2<br>
&nbsp; */<br>
&nbsp; </span>v[i] = i; <br>
}<br>
</span><span class=Cdigo><span style='color:#00B050'>// here i equals 3,
because it was the condition to exit the cycle</span></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;background:#D9D9D9;border-collapse:collapse'>
 <tr>
  <td width="100%" style='width:100.0%;padding:2.85pt 5.4pt 2.85pt 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&#9650;<a href="#top">Top</a></span></p>
  </td>
 </tr>
</table>

</div>

</div>

</body>

</html>
